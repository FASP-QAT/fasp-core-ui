import React, { Component } from 'react';
import {
    Card, CardBody, CardHeader,
    CardFooter, Button, Col, Progress, FormGroup, Row, Container
} from 'reactstrap';
import '../Forms/ValidationForms/ValidationForms.css';
import 'react-select/dist/react-select.min.css';
import moment from 'moment';
import MasterSyncService from '../../api/MasterSyncService.js';
import AuthenticationService from '../Common/AuthenticationService.js';
import { getDatabase } from "../../CommonComponent/IndexedDbFunctions";
import i18n from '../../i18n';
import i18next from 'i18next';
import { confirmAlert } from 'react-confirm-alert'; // Import
import 'react-confirm-alert/src/react-confirm-alert.css'; // Import css
import InnerBgImg from '../../../src/assets/img/bg-image/bg-login.jpg';
import image1 from '../../assets/img/QAT-logo.png';
import { SECRET_KEY, TOTAL_NO_OF_MASTERS_IN_SYNC, INDEXED_DB_VERSION, INDEXED_DB_NAME } from '../../Constants.js'
import CryptoJS from 'crypto-js'
import UserService from '../../api/UserService';
import { qatProblemActions } from '../../CommonComponent/QatProblemActions'
import { calculateSupplyPlan } from '../SupplyPlan/SupplyPlanCalculations';

export default class SyncMasterData extends Component {

    constructor() {
        super();
        this.state = {
            totalMasters: TOTAL_NO_OF_MASTERS_IN_SYNC,
            syncedMasters: 0,
            syncedPercentage: 0,
            message: ""
        }
        this.syncMasters = this.syncMasters.bind(this);
        this.retryClicked = this.retryClicked.bind(this);
        this.hideSecondComponent = this.hideSecondComponent.bind(this);
    }
    hideSecondComponent() {
        // setTimeout(function () {
        //     document.getElementById('div2').style.display = 'none';
        // }, 8000);
    }

    componentDidMount() {
        AuthenticationService.setupAxiosInterceptors();
        document.getElementById("retryButtonDiv").style.display = "none";
        let decryptedCurUser = CryptoJS.AES.decrypt(localStorage.getItem('curUser').toString(), `${SECRET_KEY}`).toString(CryptoJS.enc.Utf8);
        console.log("decryptedCurUser sync data---", decryptedCurUser)
        UserService.getUserByUserId(decryptedCurUser).then(response => {
            console.log("user----------------------", response.data);
            localStorage.setItem('user-' + decryptedCurUser, CryptoJS.AES.encrypt(JSON.stringify(response.data).toString(), `${SECRET_KEY}`));
            this.syncMasters();
        })


        // confirmAlert({
        //     // title: i18n.t('static.masterDataSync.masterDataSync'),
        //     message: i18n.t('static.masterDataSync.confirmSyncMessage'),
        //     buttons: [
        //         {
        //             label: i18n.t('static.program.yes'),
        //             onClick: () => {
        // this.syncMasters();
        //             }
        //         },
        //         {
        //             label: i18n.t('static.program.no'),
        //             onClick: () => {
        //                 document.getElementById("retryButtonDiv").style.display = "block";
        //                 this.setState({
        //                     message: i18n.t('static.actionCancelled')
        //                 })
        //             }
        //         }
        //     ]
        // });
    }

    render() {
        return (
            <div className="animated fadeIn">
                <h6 className="mt-success">{i18n.t(this.props.match.params.message)}</h6>
                <h5 className="pl-md-5" style={{ color: "red" }} id="div2">{this.state.message != "" && i18n.t('static.masterDataSync.masterDataSyncFailed')}</h5>
                <div className="col-md-12">
                    <Col xs="12" sm="12">
                        <Card>
                            {/* // <div className="app flex-row align-items-center">
            //     <div className="Login-component" style={{ backgroundImage: "url(" + InnerBgImg +")" }}>
            //         <Container className="container-login">
            //             <Row className="justify-content-center ">
            //                 <Col md="12">
            //                     <div className="upper-logo mt-1">
            //                         <img src={image1} className="img-fluid " />
            //                     </div>
            //                 </Col>
            //                 <Col md="9" lg="7" xl="6" className="mt-4">
            //                     <h5 className="mx-4">{i18n.t(this.state.message)}</h5>
            //                     <Card className="mx-4 "> */}
                            <CardHeader>
                                <strong>{i18n.t('static.masterDataSync.masterDataSync')}</strong>
                            </CardHeader>
                            <CardBody>
                                <div className="text-center">{this.state.syncedPercentage}% ({i18next.t('static.masterDataSync.synced')} {this.state.syncedMasters} {i18next.t('static.masterDataSync.of')} {this.state.totalMasters} {i18next.t('static.masterDataSync.masters')})</div>
                                <Progress value={this.state.syncedMasters} max={this.state.totalMasters} />
                            </CardBody>

                            <CardFooter id="retryButtonDiv">
                                <FormGroup>
                                    <Button type="button" size="md" color="success" className="float-right mr-1" onClick={() => this.retryClicked()}><i className="fa fa-refresh"></i> {i18n.t('static.common.retry')}</Button>
                                    &nbsp;
                            </FormGroup>
                            </CardFooter>
                        </Card>
                    </Col>
                </div>
                {/* </Container>
                </div> */}
            </div>
        )

    }

    syncProgramData(date, programList) {
        console.log("Date", date);
        console.log('Program List', programList);
        var valid = true;
        for (var i = 0; i < programList.length; i++) {
            AuthenticationService.setupAxiosInterceptors();
            if (navigator.onLine) {
                //Code to Sync Country list
                MasterSyncService.syncProgram(programList[i].programId, programList[i].version, date)
                    .then(response => {
                        console.log("Response", response);
                        if (response.status == 200) {
                            console.log("Response=========================>", response.data);
                            console.log("i", i);
                            var prog = programList.filter(c => c.programId == response.data.programId)[0];
                            console.log("Prog=====================>", prog)
                            var programDataBytes = CryptoJS.AES.decrypt((prog).programData, SECRET_KEY);
                            var programData = programDataBytes.toString(CryptoJS.enc.Utf8);
                            var programJson = JSON.parse(programData);
                            var shipmentDataList = (programJson.shipmentList);
                            var batchInfoList = (programJson.batchInfoList);
                            console.log("Shipment data list", shipmentDataList);
                            console.log("Batch Info list", batchInfoList);
                            var shipArray = response.data.shipmentList;
                            var batchArray = response.data.batchInfoList;
                            for (var j = 0; j < shipArray.length; j++) {
                                var index = shipmentDataList.findIndex(c => c.shipmentId == shipArray[j].shipmentId)
                                if (index == -1) {
                                    shipmentDataList.push(shipArray[j]);
                                } else {
                                    shipmentDataList[index] = shipArray[j];
                                }
                            }
                            console.log("Shipment data updated", shipmentDataList);

                            for (var j = 0; j < batchArray.length; j++) {
                                var index = batchInfoList.findIndex(c => c.batchNo == batchArray[j].batchNo)
                                if (index == -1) {
                                    batchInfoList.push(batchArray[j]);
                                } else {
                                    batchInfoList[index] = batchArray[j];
                                }
                            }
                            console.log("Batch Info updated", batchInfoList);
                            programJson.shipmentList = shipmentDataList;
                            programJson.batchInfoList = batchInfoList;
                            prog.programData = (CryptoJS.AES.encrypt(JSON.stringify(programJson), SECRET_KEY)).toString();
                            var db1;
                            var storeOS;
                            getDatabase();
                            var openRequest = indexedDB.open(INDEXED_DB_NAME, INDEXED_DB_VERSION);
                            openRequest.onerror = function (event) {
                                this.setState({
                                    message: i18n.t('static.program.errortext')
                                })
                            }.bind(this);
                            openRequest.onsuccess = function (e) {
                                db1 = e.target.result;
                                var transaction = db1.transaction(['programData'], 'readwrite');
                                var programTransaction = transaction.objectStore('programData');
                                var putRequest = programTransaction.put(prog);

                                putRequest.onerror = function (event) {
                                    this.setState({
                                        supplyPlanError: i18n.t('static.program.errortext')
                                    })
                                }.bind(this);
                                putRequest.onsuccess = function (event) {
                                    console.log("in succes");
                                    calculateSupplyPlan(prog.id, 0, "programData");
                                }
                            }
                        } else {
                            this.setState({
                                message: response.data.messageCode
                            },
                                () => {
                                    this.hideSecondComponent();
                                })
                            document.getElementById("retryButtonDiv").style.display = "block";
                            valid = false;
                        }
                    }).catch(error => {
                        if (error.message === "Network Error") {
                            this.setState({ message: error.message },
                                () => {
                                    this.hideSecondComponent();
                                });
                        } else {
                            switch (error.response ? error.response.status : "") {
                                case 500:
                                case 401:
                                case 404:
                                case 406:
                                case 412:
                                    this.setState({ message: error.response.data.messageCode },
                                        () => {
                                            this.hideSecondComponent();
                                        });
                                    break;
                                default:
                                    this.setState({ message: 'static.unkownError' },
                                        () => {
                                            this.hideSecondComponent();
                                        });
                                    break;
                            }
                        }
                        document.getElementById("retryButtonDiv").style.display = "block";
                        valid = false;
                    });
            } else {
                document.getElementById("retryButtonDiv").style.display = "block";
                this.setState({
                    message: 'static.common.onlinealerttext'
                })
                valid = false;
            }
        }
        if (valid) {
            this.setState({
                syncedMasters: this.state.syncedMasters + 1,
                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
            })
        } else {
            document.getElementById("retryButtonDiv").style.display = "block";
            this.setState({
                message: 'static.common.onlinealerttext'
            })
        }
        console.log("Valid", valid);
        return valid;
    }


    syncMasters() {
        if (navigator.onLine) {
            var db1;
            var storeOS;
            getDatabase();
            var openRequest = indexedDB.open(INDEXED_DB_NAME, INDEXED_DB_VERSION);
            openRequest.onsuccess = function (e) {
                var realmId = AuthenticationService.getRealmId();
                db1 = e.target.result;
                var transaction = db1.transaction(['lastSyncDate'], 'readwrite');
                var lastSyncDateTransaction = transaction.objectStore('lastSyncDate');
                var updatedSyncDate = ((moment(Date.now()).utcOffset('-0500').format('YYYY-MM-DD HH:mm:ss')));
                var lastSyncDateRequest = lastSyncDateTransaction.getAll();
                lastSyncDateRequest.onsuccess = function (event) {
                    var lastSyncDate = lastSyncDateRequest.result[0];
                    console.log("lastsyncDate", lastSyncDate);
                    var result = lastSyncDateRequest.result;
                    console.log("Result", result)
                    console.log("RealmId", realmId)
                    for (var i = 0; i < result.length; i++) {
                        if (result[i].id == realmId) {
                            console.log("in if")
                            var lastSyncDateRealm = lastSyncDateRequest.result[i];
                            console.log("last sync date in realm", lastSyncDateRealm)
                        }
                        if (result[i].id == 0) {
                            var lastSyncDate = lastSyncDateRequest.result[i];
                            console.log("last sync date", lastSyncDate)
                        }
                    }
                    if (lastSyncDate == undefined) {
                        lastSyncDate = "2020-01-01 00:00:00";
                    } else {
                        lastSyncDate = lastSyncDate.lastSyncDate;
                    }
                    if (lastSyncDateRealm == undefined) {
                        lastSyncDateRealm = "2020-01-01 00:00:00";
                    } else {
                        lastSyncDateRealm = lastSyncDateRealm.lastSyncDate;
                    }
                    console.log("Last sync date above", lastSyncDateRealm);
                    var transaction = db1.transaction(['programData'], 'readwrite');
                    var program = transaction.objectStore('programData');
                    var pGetRequest = program.getAll();
                    var proList = []
                    pGetRequest.onerror = function (event) {
                        this.setState({
                            supplyPlanError: i18n.t('static.program.errortext')
                        })
                    };
                    pGetRequest.onsuccess = function (event) {
                        var myResult = [];
                        myResult = pGetRequest.result;
                        var validation = this.syncProgramData(lastSyncDate, myResult);
                        console.log("Validation", validation);
                        if (validation) {
                            AuthenticationService.setupAxiosInterceptors();
                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                //Code to Sync Country list
                                MasterSyncService.getCountryListForSync(lastSyncDate)
                                    .then(response => {
                                        if (response.status == 200) {
                                            console.log("Response", response.data)
                                            var json = response.data;
                                            var countryTransaction = db1.transaction(['country'], 'readwrite');
                                            var countryObjectStore = countryTransaction.objectStore('country');
                                            for (var i = 0; i < json.length; i++) {
                                                countryObjectStore.put(json[i]);
                                            }
                                            this.setState({
                                                syncedMasters: this.state.syncedMasters + 1,
                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                            })
                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                //Code to Sync Budget list
                                                console.log("Last sync date realm", lastSyncDateRealm)
                                                MasterSyncService.getBudgetListForSync(lastSyncDateRealm)
                                                    .then(response => {
                                                        if (response.status == 200) {
                                                            console.log("Response", response.data)
                                                            var json = response.data;
                                                            var budgetTransaction = db1.transaction(['budget'], 'readwrite');
                                                            var budgetObjectStore = budgetTransaction.objectStore('budget');
                                                            for (var i = 0; i < json.length; i++) {
                                                                budgetObjectStore.put(json[i]);
                                                            }
                                                            this.setState({
                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                            })
                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                //Code to Sync Currency list
                                                                MasterSyncService.getCurrencyListForSync(lastSyncDate)
                                                                    .then(response => {
                                                                        if (response.status == 200) {
                                                                            console.log("Response", response.data)
                                                                            var json = response.data;
                                                                            var currencyTransaction = db1.transaction(['currency'], 'readwrite');
                                                                            var currencyObjectStore = currencyTransaction.objectStore('currency');
                                                                            for (var i = 0; i < json.length; i++) {
                                                                                currencyObjectStore.put(json[i]);
                                                                            }
                                                                            this.setState({
                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                            })
                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                //Code to Sync DataSource list
                                                                                MasterSyncService.getDataSourceListForSync(lastSyncDateRealm)
                                                                                    .then(response => {
                                                                                        if (response.status == 200) {
                                                                                            console.log("Response", response.data)
                                                                                            var json = response.data;
                                                                                            var dataSourceTransaction = db1.transaction(['dataSource'], 'readwrite');
                                                                                            var dataSourceObjectStore = dataSourceTransaction.objectStore('dataSource');
                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                dataSourceObjectStore.put(json[i]);
                                                                                            }
                                                                                            this.setState({
                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                            })
                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                //Code to Sync DataSourceType list
                                                                                                MasterSyncService.getDataSourceTypeListForSync(lastSyncDateRealm)
                                                                                                    .then(response => {
                                                                                                        if (response.status == 200) {
                                                                                                            console.log("Response data source type", response.data)
                                                                                                            var json = response.data;
                                                                                                            var dataSourceTypeTransaction = db1.transaction(['dataSourceType'], 'readwrite');
                                                                                                            var dataSourceTypeObjectStore = dataSourceTypeTransaction.objectStore('dataSourceType');
                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                dataSourceTypeObjectStore.put(json[i]);
                                                                                                            }
                                                                                                            this.setState({
                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                            })
                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                //Code to Sync Dimension list
                                                                                                                MasterSyncService.getDimensionListForSync(lastSyncDate)
                                                                                                                    .then(response => {
                                                                                                                        if (response.status == 200) {
                                                                                                                            console.log("Response", response.data)
                                                                                                                            var json = response.data;
                                                                                                                            var dimensionTransaction = db1.transaction(['dimension'], 'readwrite');
                                                                                                                            var dimensionObjectStore = dimensionTransaction.objectStore('dimension');
                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                dimensionObjectStore.put(json[i]);
                                                                                                                            }
                                                                                                                            this.setState({
                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                            })
                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                //Code to Sync FundingSource list
                                                                                                                                MasterSyncService.getFundingSourceListForSync(lastSyncDateRealm)
                                                                                                                                    .then(response => {
                                                                                                                                        if (response.status == 200) {
                                                                                                                                            console.log("Response", response.data)
                                                                                                                                            var json = response.data;
                                                                                                                                            var fundingSourceTransaction = db1.transaction(['fundingSource'], 'readwrite');
                                                                                                                                            var fundingSourceObjectStore = fundingSourceTransaction.objectStore('fundingSource');
                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                fundingSourceObjectStore.put(json[i]);
                                                                                                                                            }
                                                                                                                                            this.setState({
                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                            })
                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                //Code to Sync HealthArea list
                                                                                                                                                MasterSyncService.getHealthAreaListForSync(lastSyncDateRealm)
                                                                                                                                                    .then(response => {
                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                            console.log("Response", response.data)
                                                                                                                                                            var json = response.data;
                                                                                                                                                            var healthAreaTransaction = db1.transaction(['healthArea'], 'readwrite');
                                                                                                                                                            var healthAreaObjectStore = healthAreaTransaction.objectStore('healthArea');
                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                healthAreaObjectStore.put(json[i]);
                                                                                                                                                            }
                                                                                                                                                            this.setState({
                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                            })
                                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                                //Code to Sync Organisation list
                                                                                                                                                                MasterSyncService.getOrganisationListForSync(lastSyncDateRealm)
                                                                                                                                                                    .then(response => {
                                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                                            console.log("Response", response.data)
                                                                                                                                                                            var json = response.data;
                                                                                                                                                                            var organisationTransaction = db1.transaction(['organisation'], 'readwrite');
                                                                                                                                                                            var organisationObjectStore = organisationTransaction.objectStore('organisation');
                                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                organisationObjectStore.put(json[i]);
                                                                                                                                                                            }
                                                                                                                                                                            this.setState({
                                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                            })
                                                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                                                //Code to Sync ProcurementAgent list
                                                                                                                                                                                MasterSyncService.getProcurementAgentListForSync(lastSyncDateRealm)
                                                                                                                                                                                    .then(response => {
                                                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                                                            console.log("Response", response.data)
                                                                                                                                                                                            var json = response.data;
                                                                                                                                                                                            var procurementAgentTransaction = db1.transaction(['procurementAgent'], 'readwrite');
                                                                                                                                                                                            var procurementAgentObjectStore = procurementAgentTransaction.objectStore('procurementAgent');
                                                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                                procurementAgentObjectStore.put(json[i]);
                                                                                                                                                                                            }
                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                                            })
                                                                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                                                                //Code to Sync ProductCategory list
                                                                                                                                                                                                MasterSyncService.getProductCategoryListForSync(lastSyncDateRealm)
                                                                                                                                                                                                    .then(response => {
                                                                                                                                                                                                        console.log("Product category Response", response)
                                                                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                                                                            console.log("Product category Response", response.data)
                                                                                                                                                                                                            var json = []
                                                                                                                                                                                                            if ((response.data).length > 0) {
                                                                                                                                                                                                                json = (response.data);
                                                                                                                                                                                                            }

                                                                                                                                                                                                            var productCategoryTransaction = db1.transaction(['productCategory'], 'readwrite');
                                                                                                                                                                                                            var productCategoryObjectStore = productCategoryTransaction.objectStore('productCategory');
                                                                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                                                productCategoryObjectStore.put(json[i]);
                                                                                                                                                                                                            }
                                                                                                                                                                                                            console.log("After put")
                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                                                            })
                                                                                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                                                                                console.log("Before sync program list");
                                                                                                                                                                                                                //Code to Sync Program list
                                                                                                                                                                                                                MasterSyncService.getProgramListForSync(lastSyncDateRealm)
                                                                                                                                                                                                                    .then(response => {
                                                                                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                                                                                            console.log("Response", response.data)
                                                                                                                                                                                                                            var json = response.data;
                                                                                                                                                                                                                            var programTransaction = db1.transaction(['program'], 'readwrite');
                                                                                                                                                                                                                            var programObjectStore = programTransaction.objectStore('program');
                                                                                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                                                                programObjectStore.put(json[i]);
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                                                                            })
                                                                                                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                                                                                                //Code to Sync RealmCountry list
                                                                                                                                                                                                                                MasterSyncService.getRealmCountryListForSync(lastSyncDateRealm)
                                                                                                                                                                                                                                    .then(response => {
                                                                                                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                                                                                                            console.log("Response", response.data)
                                                                                                                                                                                                                                            var json = response.data;
                                                                                                                                                                                                                                            var realmCountryTransaction = db1.transaction(['realmCountry'], 'readwrite');
                                                                                                                                                                                                                                            var realmCountryObjectStore = realmCountryTransaction.objectStore('realmCountry');
                                                                                                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                                                                                realmCountryObjectStore.put(json[i]);
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                                                                                                                //Code to Sync Realm list
                                                                                                                                                                                                                                                MasterSyncService.getRealmListForSync(lastSyncDateRealm)
                                                                                                                                                                                                                                                    .then(response => {
                                                                                                                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                                                                                                                            console.log("Response", response.data)
                                                                                                                                                                                                                                                            var json = response.data;
                                                                                                                                                                                                                                                            var realmTransaction = db1.transaction(['realm'], 'readwrite');
                                                                                                                                                                                                                                                            var realmObjectStore = realmTransaction.objectStore('realm');
                                                                                                                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                                                                                                realmObjectStore.put(json[i]);
                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                                                                                                                                //Code to Sync Region list
                                                                                                                                                                                                                                                                MasterSyncService.getRegionListForSync(lastSyncDateRealm)
                                                                                                                                                                                                                                                                    .then(response => {
                                                                                                                                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                                                                                                                                            console.log("Response", response.data)
                                                                                                                                                                                                                                                                            var json = response.data;
                                                                                                                                                                                                                                                                            var regionTransaction = db1.transaction(['region'], 'readwrite');
                                                                                                                                                                                                                                                                            var regionObjectStore = regionTransaction.objectStore('region');
                                                                                                                                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                                                                                                                regionObjectStore.put(json[i]);
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                            // if (navigator.onLine) {
                                                                                                                                                                                                                                                                            //     //Code to Sync SubFundingSource list
                                                                                                                                                                                                                                                                            //     MasterSyncService.getSubFundingSourceListForSync(lastSyncDateRealm)
                                                                                                                                                                                                                                                                            //         .then(response => {
                                                                                                                                                                                                                                                                            //             if (response.status == 200) {
                                                                                                                                                                                                                                                                            //                 console.log("Response", response.data)
                                                                                                                                                                                                                                                                            //                 var json = response.data;
                                                                                                                                                                                                                                                                            //                 var subFundingSourceTransaction = db1.transaction(['subFundingSource'], 'readwrite');
                                                                                                                                                                                                                                                                            //                 var subFundingSourceObjectStore = subFundingSourceTransaction.objectStore('subFundingSource');
                                                                                                                                                                                                                                                                            //                 for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                                                                                                            //                     subFundingSourceObjectStore.put(json[i]);
                                                                                                                                                                                                                                                                            //                 }
                                                                                                                                                                                                                                                                            //                 this.setState({
                                                                                                                                                                                                                                                                            //                     syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                                                                                                            //                     syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                                                                                                                            //                 })
                                                                                                                                                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                                                                                                                                                //Code to Sync Supplier list
                                                                                                                                                                                                                                                                                MasterSyncService.getSupplierListForSync(lastSyncDateRealm)
                                                                                                                                                                                                                                                                                    .then(response => {
                                                                                                                                                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                                                                                                                                                            console.log("Response", response.data)
                                                                                                                                                                                                                                                                                            var json = response.data;
                                                                                                                                                                                                                                                                                            var supplierTransaction = db1.transaction(['supplier'], 'readwrite');
                                                                                                                                                                                                                                                                                            var supplierObjectStore = supplierTransaction.objectStore('supplier');
                                                                                                                                                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                                                                                                                                supplierObjectStore.put(json[i]);
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                                                                                                                                                                //Code to Sync TracerCategory list
                                                                                                                                                                                                                                                                                                MasterSyncService.getTracerCategoryListForSync(lastSyncDateRealm)
                                                                                                                                                                                                                                                                                                    .then(response => {
                                                                                                                                                                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                                                                                                                                                                            console.log("Response", response.data)
                                                                                                                                                                                                                                                                                                            var json = response.data;
                                                                                                                                                                                                                                                                                                            var tracerCategoryTransaction = db1.transaction(['tracerCategory'], 'readwrite');
                                                                                                                                                                                                                                                                                                            var tracerCategoryObjectStore = tracerCategoryTransaction.objectStore('tracerCategory');
                                                                                                                                                                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                                                                                                                                                tracerCategoryObjectStore.put(json[i]);
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                                                                                                                                                                                //Code to Sync Unit list
                                                                                                                                                                                                                                                                                                                MasterSyncService.getUnitListForSync(lastSyncDate)
                                                                                                                                                                                                                                                                                                                    .then(response => {
                                                                                                                                                                                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                                                                                                                                                                                            console.log("Response", response.data)
                                                                                                                                                                                                                                                                                                                            var json = response.data;
                                                                                                                                                                                                                                                                                                                            var unitTransaction = db1.transaction(['unit'], 'readwrite');
                                                                                                                                                                                                                                                                                                                            var unitObjectStore = unitTransaction.objectStore('unit');
                                                                                                                                                                                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                                                                                                                                                                unitObjectStore.put(json[i]);
                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                                                                                                                                                                                                //Code to Sync forecasting unit list
                                                                                                                                                                                                                                                                                                                                MasterSyncService.getForecastingUnitForSync(lastSyncDateRealm)
                                                                                                                                                                                                                                                                                                                                    .then(response => {
                                                                                                                                                                                                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                                                                                                                                                                                                            console.log("Response", response.data)
                                                                                                                                                                                                                                                                                                                                            var json = response.data;
                                                                                                                                                                                                                                                                                                                                            var forecastingUnitTransaction = db1.transaction(['forecastingUnit'], 'readwrite');
                                                                                                                                                                                                                                                                                                                                            var forecastingUnitObjectStore = forecastingUnitTransaction.objectStore('forecastingUnit');
                                                                                                                                                                                                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                                                                                                                                                                                forecastingUnitObjectStore.put(json[i]);
                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                                                                                                                                                                                            })

                                                                                                                                                                                                                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                                                                                                                                                                                                                //Code to Sync planning unit list
                                                                                                                                                                                                                                                                                                                                                MasterSyncService.getPlanningUnitForSync(lastSyncDateRealm)
                                                                                                                                                                                                                                                                                                                                                    .then(response => {
                                                                                                                                                                                                                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                                                                                                                                                                                                                            console.log("Response", response.data)
                                                                                                                                                                                                                                                                                                                                                            var json = response.data;
                                                                                                                                                                                                                                                                                                                                                            var planningUnitTransaction = db1.transaction(['planningUnit'], 'readwrite');
                                                                                                                                                                                                                                                                                                                                                            var planningUnitObjectStore = planningUnitTransaction.objectStore('planningUnit');
                                                                                                                                                                                                                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                                                                                                                                                                                                planningUnitObjectStore.put(json[i]);
                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                                                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                                                                                                                                                                                                                                //Code to Sync procurement unit list
                                                                                                                                                                                                                                                                                                                                                                MasterSyncService.getProcurementUnitForSync(lastSyncDateRealm)
                                                                                                                                                                                                                                                                                                                                                                    .then(response => {
                                                                                                                                                                                                                                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                                                                                                                                                                                                                                            console.log("Response", response.data)
                                                                                                                                                                                                                                                                                                                                                                            var json = response.data;
                                                                                                                                                                                                                                                                                                                                                                            var procurementUnitTransaction = db1.transaction(['procurementUnit'], 'readwrite');
                                                                                                                                                                                                                                                                                                                                                                            var procurementUnitObjectStore = procurementUnitTransaction.objectStore('procurementUnit');
                                                                                                                                                                                                                                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                                                                                                                                                                                                                procurementUnitObjectStore.put(json[i]);
                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                                                                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                                                                                                                                                                                                                                                //Code to Sync realm country planning unit list
                                                                                                                                                                                                                                                                                                                                                                                MasterSyncService.getRealmCountryPlanningUnitForSync(lastSyncDateRealm)
                                                                                                                                                                                                                                                                                                                                                                                    .then(response => {
                                                                                                                                                                                                                                                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                                                                                                                                                                                                                                                            console.log("Response", response.data)
                                                                                                                                                                                                                                                                                                                                                                                            var json = response.data;
                                                                                                                                                                                                                                                                                                                                                                                            var realmCountryPlanningUnitTransaction = db1.transaction(['realmCountryPlanningUnit'], 'readwrite');
                                                                                                                                                                                                                                                                                                                                                                                            var realmCountryPlanningUnitStore = realmCountryPlanningUnitTransaction.objectStore('realmCountryPlanningUnit');
                                                                                                                                                                                                                                                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                                                                                                                                                                                                                                realmCountryPlanningUnitStore.put(json[i]);
                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                                                                                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                                                                                                                                                                                                                                            })

                                                                                                                                                                                                                                                                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                                                                                                                                                                                                                                                                //Code to Sync ProgramPlanningUnit list
                                                                                                                                                                                                                                                                                                                                                                                                MasterSyncService.getProgramPlanningUnitForSync(lastSyncDateRealm)
                                                                                                                                                                                                                                                                                                                                                                                                    .then(response => {
                                                                                                                                                                                                                                                                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                                                                                                                                                                                                                                                                            console.log("Response", response.data)
                                                                                                                                                                                                                                                                                                                                                                                                            var json = response.data;
                                                                                                                                                                                                                                                                                                                                                                                                            var programPlanningUnitTransaction = db1.transaction(['programPlanningUnit'], 'readwrite');
                                                                                                                                                                                                                                                                                                                                                                                                            var programPlanningUnitObjectStore = programPlanningUnitTransaction.objectStore('programPlanningUnit');
                                                                                                                                                                                                                                                                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                                                                                                                                                                                                                                                programPlanningUnitObjectStore.put(json[i]);
                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                                                                                                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                                                                                                                                                                                                                                                                                //Code to Sync ProcurementAgentPlanningUnit list
                                                                                                                                                                                                                                                                                                                                                                                                                MasterSyncService.getProcurementAgentPlanningUnitForSync(lastSyncDateRealm)
                                                                                                                                                                                                                                                                                                                                                                                                                    .then(response => {
                                                                                                                                                                                                                                                                                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                                                                                                                                                                                                                                                                                            console.log("Response", response.data)
                                                                                                                                                                                                                                                                                                                                                                                                                            var json = response.data;
                                                                                                                                                                                                                                                                                                                                                                                                                            var procurementAgentPlanningUnitTransaction = db1.transaction(['procurementAgentPlanningUnit'], 'readwrite');
                                                                                                                                                                                                                                                                                                                                                                                                                            var procurementAgentPlanningUnitObjectStore = procurementAgentPlanningUnitTransaction.objectStore('procurementAgentPlanningUnit');
                                                                                                                                                                                                                                                                                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                                                                                                                                                                                                                                                                procurementAgentPlanningUnitObjectStore.put(json[i]);
                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                                                                                                                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                                                                                                                                                                                                                                                                            })

                                                                                                                                                                                                                                                                                                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                                                                                                                                                                                                                                                                                                //Code to Sync Problem list
                                                                                                                                                                                                                                                                                                                                                                                                                                MasterSyncService.getProblemListForSync(lastSyncDateRealm)
                                                                                                                                                                                                                                                                                                                                                                                                                                    .then(response => {
                                                                                                                                                                                                                                                                                                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                                                                                                                                                                                                                                                                                                            console.log("Response", response.data)
                                                                                                                                                                                                                                                                                                                                                                                                                                            var json = response.data;
                                                                                                                                                                                                                                                                                                                                                                                                                                            var problemTransaction = db1.transaction(['problem'], 'readwrite');
                                                                                                                                                                                                                                                                                                                                                                                                                                            var problemObjectStore = problemTransaction.objectStore('problem');
                                                                                                                                                                                                                                                                                                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                problemObjectStore.put(json[i]);
                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                                                                                                                                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                                                                                                                                                                                                                                                                                                                //Code to Sync Problem status list
                                                                                                                                                                                                                                                                                                                                                                                                                                                MasterSyncService.getProblemStatusListForSync(lastSyncDate)
                                                                                                                                                                                                                                                                                                                                                                                                                                                    .then(response => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                            console.log("Response", response.data)
                                                                                                                                                                                                                                                                                                                                                                                                                                                            var json = response.data;
                                                                                                                                                                                                                                                                                                                                                                                                                                                            var problemStatusTransaction = db1.transaction(['problemStatus'], 'readwrite');
                                                                                                                                                                                                                                                                                                                                                                                                                                                            var problemStatusObjectStore = problemStatusTransaction.objectStore('problemStatus');
                                                                                                                                                                                                                                                                                                                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                problemStatusObjectStore.put(json[i]);
                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                                                                                                                                                                                                                                                                                                            })

                                                                                                                                                                                                                                                                                                                                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                //Code to Sync ProcurementAgentProcurementUnit list
                                                                                                                                                                                                                                                                                                                                                                                                                                                                MasterSyncService.getProcurementAgentProcurementUnitForSync(lastSyncDateRealm)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    .then(response => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            console.log("Response", response.data)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            var json = response.data;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            var procurementAgentProcurementUnitTransaction = db1.transaction(['procurementAgentProcurementUnit'], 'readwrite');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            var procurementAgentProcurementUnitObjectStore = procurementAgentProcurementUnitTransaction.objectStore('procurementAgentProcurementUnit');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                procurementAgentProcurementUnitObjectStore.put(json[i]);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            })

                                                                                                                                                                                                                                                                                                                                                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                //Code to Sync ShipmentStatus list
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                MasterSyncService.getShipmentStatusForSync(lastSyncDate)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    .then(response => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            console.log("Response", response.data)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            var json = response.data;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            var shipmentStatusTransaction = db1.transaction(['shipmentStatus'], 'readwrite');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            var shipmentStatusObjectStore = shipmentStatusTransaction.objectStore('shipmentStatus');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                shipmentStatusObjectStore.put(json[i]);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            })

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            if (navigator.onLine && window.getComputedStyle(document.getElementById("retryButtonDiv")).display == "none") {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                //Code to Sync Language list
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                MasterSyncService.getLanguageListForSync(lastSyncDate)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    .then(response => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        if (response.status == 200) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            console.log("Response", response.data)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            var json = response.data;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            var languageTransaction = db1.transaction(['language'], 'readwrite');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            var languageObjectStore = languageTransaction.objectStore('language');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            for (var i = 0; i < json.length; i++) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                languageObjectStore.put(json[i]);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                syncedMasters: this.state.syncedMasters + 1,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                syncedPercentage: Math.floor(((this.state.syncedMasters + 1) / this.state.totalMasters) * 100)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            if (this.state.syncedMasters === this.state.totalMasters) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                var transaction = db1.transaction(['lastSyncDate'], 'readwrite');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                var lastSyncDateTransaction = transaction.objectStore('lastSyncDate');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                var updatedLastSyncDateJson = {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    lastSyncDate: updatedSyncDate,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    id: 0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                var updateLastSyncDate = lastSyncDateTransaction.put(updatedLastSyncDateJson)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                var updatedLastSyncDateJson1 = {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    lastSyncDate: updatedSyncDate,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    id: realmId
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                var updateLastSyncDate = lastSyncDateTransaction.put(updatedLastSyncDateJson1)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                updateLastSyncDate.onsuccess = function (event) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    document.getElementById("retryButtonDiv").style.display = "none";
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    let id = AuthenticationService.displayDashboardBasedOnRole();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    this.props.history.push(`/ApplicationDashboard/` + `${id}` + '/green/' + i18n.t('static.masterDataSync.success'))
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }.bind(this)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";


                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    message: '',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    message: `static.masterDataSync.syncFailed`
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    () => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        this.hideSecondComponent();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    })
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                () => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    this.hideSecondComponent();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                })
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }).catch(error => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            this.setState({ message: error.message },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                () => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    this.hideSecondComponent();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                case 500:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                case 401:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                case 404:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                case 406:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                case 412:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: error.response.data.messageCode },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        () => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            this.hideSecondComponent();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                default:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: 'static.unkownError' },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        () => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            this.hideSecondComponent();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                })
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }).catch(error => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                case 500:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                case 401:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                case 404:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                case 406:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                case 412:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                default:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                })
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }).catch(error => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                case 500:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                case 401:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                case 404:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                case 406:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                case 412:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                default:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    });
                                                                                                                                                                                                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                                                                                                                                                this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                                                                                                                                                                                                                                                                                                                                })
                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                    }).catch(error => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                                                                                                                                                                                                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                case 500:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                case 401:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                case 404:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                case 406:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                case 412:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                default:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                                                                                                                                    });
                                                                                                                                                                                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                                                                                                                                this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                                                                                                                                                                                                                                                                                                                })
                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                    }).catch(error => {
                                                                                                                                                                                                                                                                                                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                                                                                                                                                                                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                                                                                                                                                                                                                                                                                                case 500:
                                                                                                                                                                                                                                                                                                                                                                                                                                                case 401:
                                                                                                                                                                                                                                                                                                                                                                                                                                                case 404:
                                                                                                                                                                                                                                                                                                                                                                                                                                                case 406:
                                                                                                                                                                                                                                                                                                                                                                                                                                                case 412:
                                                                                                                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                                                                                                                                default:
                                                                                                                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                                                                                                                    });
                                                                                                                                                                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                                                                                                                this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                                                                                                                                                                                                                                                                                                })
                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                    }).catch(error => {
                                                                                                                                                                                                                                                                                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                                                                                                                                                                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                                                                                                                                                                                                                                                                                case 500:
                                                                                                                                                                                                                                                                                                                                                                                                                                case 401:
                                                                                                                                                                                                                                                                                                                                                                                                                                case 404:
                                                                                                                                                                                                                                                                                                                                                                                                                                case 406:
                                                                                                                                                                                                                                                                                                                                                                                                                                case 412:
                                                                                                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                                                                                                                default:
                                                                                                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                                                                                                    });
                                                                                                                                                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                                                                                                this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                                                                                                                                                                                                                                                                                })
                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                    }).catch(error => {
                                                                                                                                                                                                                                                                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                                                                                                                                                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                                                                                                                                                                                                                                                                case 500:
                                                                                                                                                                                                                                                                                                                                                                                                                case 401:
                                                                                                                                                                                                                                                                                                                                                                                                                case 404:
                                                                                                                                                                                                                                                                                                                                                                                                                case 406:
                                                                                                                                                                                                                                                                                                                                                                                                                case 412:
                                                                                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                                                                                                default:
                                                                                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                                                                                    });
                                                                                                                                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                                                                                this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                                                                                                                                                                                                                                                                })
                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                    }).catch(error => {
                                                                                                                                                                                                                                                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                                                                                                                                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                                                                                                                                                                                                                                                case 500:
                                                                                                                                                                                                                                                                                                                                                                                                case 401:
                                                                                                                                                                                                                                                                                                                                                                                                case 404:
                                                                                                                                                                                                                                                                                                                                                                                                case 406:
                                                                                                                                                                                                                                                                                                                                                                                                case 412:
                                                                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                                                                                default:
                                                                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                                                                    });
                                                                                                                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                                                                this.setState({
                                                                                                                                                                                                                                                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                                                                                                                                                                                                                                                })
                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                    }).catch(error => {
                                                                                                                                                                                                                                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                                                                                                                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                                                                                                                                                                                                                                case 500:
                                                                                                                                                                                                                                                                                                                                                                                case 401:
                                                                                                                                                                                                                                                                                                                                                                                case 404:
                                                                                                                                                                                                                                                                                                                                                                                case 406:
                                                                                                                                                                                                                                                                                                                                                                                case 412:
                                                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                                                                default:
                                                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                                                    });
                                                                                                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                                                this.setState({
                                                                                                                                                                                                                                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                                                                                                                                                                                                                                })
                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                    }).catch(error => {
                                                                                                                                                                                                                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                                                                                                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                                                                                                                                                                                                                case 500:
                                                                                                                                                                                                                                                                                                                                                                case 401:
                                                                                                                                                                                                                                                                                                                                                                case 404:
                                                                                                                                                                                                                                                                                                                                                                case 406:
                                                                                                                                                                                                                                                                                                                                                                case 412:
                                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                                                default:
                                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                                    });
                                                                                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                                this.setState({
                                                                                                                                                                                                                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                                                                                                                                                                                                                })
                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                    }).catch(error => {
                                                                                                                                                                                                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                                                                                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                                                                                                                                                                                                case 500:
                                                                                                                                                                                                                                                                                                                                                case 401:
                                                                                                                                                                                                                                                                                                                                                case 404:
                                                                                                                                                                                                                                                                                                                                                case 406:
                                                                                                                                                                                                                                                                                                                                                case 412:
                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                                default:
                                                                                                                                                                                                                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                    });
                                                                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                                this.setState({
                                                                                                                                                                                                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                                                                                                                                                                                                })
                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                    }).catch(error => {
                                                                                                                                                                                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                                                                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                                                                                                                                                                                case 500:
                                                                                                                                                                                                                                                                                                                                case 401:
                                                                                                                                                                                                                                                                                                                                case 404:
                                                                                                                                                                                                                                                                                                                                case 406:
                                                                                                                                                                                                                                                                                                                                case 412:
                                                                                                                                                                                                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                                default:
                                                                                                                                                                                                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                    });
                                                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                                this.setState({
                                                                                                                                                                                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                                                                                                                                                                                })
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                    }).catch(error => {
                                                                                                                                                                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                                                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                                                                                                                                                                case 500:
                                                                                                                                                                                                                                                                                                                case 401:
                                                                                                                                                                                                                                                                                                                case 404:
                                                                                                                                                                                                                                                                                                                case 406:
                                                                                                                                                                                                                                                                                                                case 412:
                                                                                                                                                                                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                                default:
                                                                                                                                                                                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                    });
                                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                                this.setState({
                                                                                                                                                                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                                                                                                                                                                })
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                    }).catch(error => {
                                                                                                                                                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                                                                                                                                                case 500:
                                                                                                                                                                                                                                                                                                case 401:
                                                                                                                                                                                                                                                                                                case 404:
                                                                                                                                                                                                                                                                                                case 406:
                                                                                                                                                                                                                                                                                                case 412:
                                                                                                                                                                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                                default:
                                                                                                                                                                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                    });
                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                                this.setState({
                                                                                                                                                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                                                                                                                                                })
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                    }).catch(error => {
                                                                                                                                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                                                                                                                                case 500:
                                                                                                                                                                                                                                                                                case 401:
                                                                                                                                                                                                                                                                                case 404:
                                                                                                                                                                                                                                                                                case 406:
                                                                                                                                                                                                                                                                                case 412:
                                                                                                                                                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                default:
                                                                                                                                                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                    });
                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                                this.setState({
                                                                                                                                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                                                                                                                                })
                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                    }).catch(error => {
                                                                                                                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                                                                                                                case 500:
                                                                                                                                                                                                                                                                case 401:
                                                                                                                                                                                                                                                                case 404:
                                                                                                                                                                                                                                                                case 406:
                                                                                                                                                                                                                                                                case 412:
                                                                                                                                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                default:
                                                                                                                                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                    });
                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                                this.setState({
                                                                                                                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                                                                                                                })
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                    }).catch(error => {
                                                                                                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                                                                                                case 500:
                                                                                                                                                                                                                                                case 401:
                                                                                                                                                                                                                                                case 404:
                                                                                                                                                                                                                                                case 406:
                                                                                                                                                                                                                                                case 412:
                                                                                                                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                default:
                                                                                                                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                    });
                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                                this.setState({
                                                                                                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                                                                                                })
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                                                                                            })
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                    }).catch(error => {
                                                                                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                                                                                case 500:
                                                                                                                                                                                                                                case 401:
                                                                                                                                                                                                                                case 404:
                                                                                                                                                                                                                                case 406:
                                                                                                                                                                                                                                case 412:
                                                                                                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                default:
                                                                                                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                    });
                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                                this.setState({
                                                                                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                                                                                })
                                                                                                                                                                                                            }
                                                                                                                                                                                                        } else {
                                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                                                                            })
                                                                                                                                                                                                        }
                                                                                                                                                                                                    }).catch(error => {
                                                                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                                                                                        } else {
                                                                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                                                                case 500:
                                                                                                                                                                                                                case 401:
                                                                                                                                                                                                                case 404:
                                                                                                                                                                                                                case 406:
                                                                                                                                                                                                                case 412:
                                                                                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                default:
                                                                                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                                                                                    break;
                                                                                                                                                                                                            }
                                                                                                                                                                                                        }
                                                                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                    });
                                                                                                                                                                                            } else {
                                                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                                this.setState({
                                                                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                                                                })
                                                                                                                                                                                            }
                                                                                                                                                                                        } else {
                                                                                                                                                                                            this.setState({
                                                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                                                            })
                                                                                                                                                                                        }
                                                                                                                                                                                    }).catch(error => {
                                                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                                                                        } else {
                                                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                                                case 500:
                                                                                                                                                                                                case 401:
                                                                                                                                                                                                case 404:
                                                                                                                                                                                                case 406:
                                                                                                                                                                                                case 412:
                                                                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                                                                    break;
                                                                                                                                                                                                default:
                                                                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                                                                    break;
                                                                                                                                                                                            }
                                                                                                                                                                                        }
                                                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                    });
                                                                                                                                                                            } else {
                                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                                this.setState({
                                                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                                                })
                                                                                                                                                                            }
                                                                                                                                                                        } else {
                                                                                                                                                                            this.setState({
                                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                                            })
                                                                                                                                                                        }
                                                                                                                                                                    }).catch(error => {
                                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                                                        } else {
                                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                                case 500:
                                                                                                                                                                                case 401:
                                                                                                                                                                                case 404:
                                                                                                                                                                                case 406:
                                                                                                                                                                                case 412:
                                                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                                                    break;
                                                                                                                                                                                default:
                                                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                                                    break;
                                                                                                                                                                            }
                                                                                                                                                                        }
                                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                    });
                                                                                                                                                            } else {
                                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                                this.setState({
                                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                                })
                                                                                                                                                            }
                                                                                                                                                            //             } else {
                                                                                                                                                            //                 this.setState({
                                                                                                                                                            //                     message: response.data.messageCode
                                                                                                                                                            //                 })
                                                                                                                                                            //             }
                                                                                                                                                            //         }).catch(error => {
                                                                                                                                                            //             if (error.message === "Network Error") {
                                                                                                                                                            //                 this.setState({ message: error.message });
                                                                                                                                                            //             } else {
                                                                                                                                                            //                 switch (error.response ? error.response.status : "") {
                                                                                                                                                            //                     case 500:
                                                                                                                                                            //                     case 401:
                                                                                                                                                            //                     case 404:
                                                                                                                                                            //                     case 406:
                                                                                                                                                            //                     case 412:
                                                                                                                                                            //                         this.setState({ message: error.response.data.messageCode });
                                                                                                                                                            //                         break;
                                                                                                                                                            //                     default:
                                                                                                                                                            //                         this.setState({ message: 'static.unkownError' });
                                                                                                                                                            //                         break;
                                                                                                                                                            //                 }
                                                                                                                                                            //             }
                                                                                                                                                            //             document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                            //         });
                                                                                                                                                            // } else {
                                                                                                                                                            //     document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                            //     this.setState({
                                                                                                                                                            //         message: 'static.common.onlinealerttext'
                                                                                                                                                            //     })
                                                                                                                                                            // }
                                                                                                                                                        } else {
                                                                                                                                                            this.setState({
                                                                                                                                                                message: response.data.messageCode
                                                                                                                                                            })
                                                                                                                                                        }
                                                                                                                                                    }).catch(error => {
                                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                                        } else {
                                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                                case 500:
                                                                                                                                                                case 401:
                                                                                                                                                                case 404:
                                                                                                                                                                case 406:
                                                                                                                                                                case 412:
                                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                                    break;
                                                                                                                                                                default:
                                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                                    break;
                                                                                                                                                            }
                                                                                                                                                        }
                                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                    });
                                                                                                                                            } else {
                                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                                this.setState({
                                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                                })
                                                                                                                                            }
                                                                                                                                        } else {
                                                                                                                                            this.setState({
                                                                                                                                                message: response.data.messageCode
                                                                                                                                            })
                                                                                                                                        }
                                                                                                                                    }).catch(error => {
                                                                                                                                        if (error.message === "Network Error") {
                                                                                                                                            this.setState({ message: error.message });
                                                                                                                                        } else {
                                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                                case 500:
                                                                                                                                                case 401:
                                                                                                                                                case 404:
                                                                                                                                                case 406:
                                                                                                                                                case 412:
                                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                                    break;
                                                                                                                                                default:
                                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                                    break;
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                    });
                                                                                                                            } else {
                                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                                this.setState({
                                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                                })
                                                                                                                            }
                                                                                                                        } else {
                                                                                                                            this.setState({
                                                                                                                                message: response.data.messageCode
                                                                                                                            })
                                                                                                                        }
                                                                                                                    }).catch(error => {
                                                                                                                        if (error.message === "Network Error") {
                                                                                                                            this.setState({ message: error.message });
                                                                                                                        } else {
                                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                                case 500:
                                                                                                                                case 401:
                                                                                                                                case 404:
                                                                                                                                case 406:
                                                                                                                                case 412:
                                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                                    break;
                                                                                                                                default:
                                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                                    break;
                                                                                                                            }
                                                                                                                        }
                                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                    });
                                                                                                            } else {
                                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                                this.setState({
                                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                                })
                                                                                                            }
                                                                                                        } else {
                                                                                                            this.setState({
                                                                                                                message: response.data.messageCode
                                                                                                            })
                                                                                                        }
                                                                                                    }).catch(error => {
                                                                                                        if (error.message === "Network Error") {
                                                                                                            this.setState({ message: error.message });
                                                                                                        } else {
                                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                                case 500:
                                                                                                                case 401:
                                                                                                                case 404:
                                                                                                                case 406:
                                                                                                                case 412:
                                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                                    break;
                                                                                                                default:
                                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                                    break;
                                                                                                            }
                                                                                                        }
                                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                    });
                                                                                            } else {
                                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                                this.setState({
                                                                                                    message: 'static.common.onlinealerttext'
                                                                                                })
                                                                                            }
                                                                                        } else {
                                                                                            this.setState({
                                                                                                message: response.data.messageCode
                                                                                            })
                                                                                        }
                                                                                    }).catch(error => {
                                                                                        if (error.message === "Network Error") {
                                                                                            this.setState({ message: error.message });
                                                                                        } else {
                                                                                            switch (error.response ? error.response.status : "") {
                                                                                                case 500:
                                                                                                case 401:
                                                                                                case 404:
                                                                                                case 406:
                                                                                                case 412:
                                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                                    break;
                                                                                                default:
                                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                                    break;
                                                                                            }
                                                                                        }
                                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                                    });
                                                                            } else {
                                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                                this.setState({
                                                                                    message: 'static.common.onlinealerttext'
                                                                                })
                                                                            }
                                                                        } else {
                                                                            this.setState({
                                                                                message: response.data.messageCode
                                                                            })
                                                                        }
                                                                    }).catch(error => {
                                                                        if (error.message === "Network Error") {
                                                                            this.setState({ message: error.message });
                                                                        } else {
                                                                            switch (error.response ? error.response.status : "") {
                                                                                case 500:
                                                                                case 401:
                                                                                case 404:
                                                                                case 406:
                                                                                case 412:
                                                                                    this.setState({ message: error.response.data.messageCode });
                                                                                    break;
                                                                                default:
                                                                                    this.setState({ message: 'static.unkownError' });
                                                                                    break;
                                                                            }
                                                                        }
                                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                                    });
                                                            } else {
                                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                                this.setState({
                                                                    message: 'static.common.onlinealerttext'
                                                                })
                                                            }
                                                        } else {
                                                            this.setState({
                                                                message: response.data.messageCode
                                                            })
                                                        }
                                                    }).catch(error => {
                                                        if (error.message === "Network Error") {
                                                            this.setState({ message: error.message });
                                                        } else {
                                                            switch (error.response ? error.response.status : "") {
                                                                case 500:
                                                                case 401:
                                                                case 404:
                                                                case 406:
                                                                case 412:
                                                                    this.setState({ message: error.response.data.messageCode });
                                                                    break;
                                                                default:
                                                                    this.setState({ message: 'static.unkownError' });
                                                                    break;
                                                            }
                                                        }
                                                        document.getElementById("retryButtonDiv").style.display = "block";
                                                    });
                                            } else {
                                                document.getElementById("retryButtonDiv").style.display = "block";
                                                this.setState({
                                                    message: 'static.common.onlinealerttext'
                                                })
                                            }
                                        } else {
                                            this.setState({
                                                message: response.data.messageCode
                                            })
                                        }
                                    }).catch(error => {
                                        if (error.message === "Network Error") {
                                            this.setState({ message: error.message });
                                        } else {
                                            switch (error.response ? error.response.status : "") {
                                                case 500:
                                                case 401:
                                                case 404:
                                                case 406:
                                                case 412:
                                                    this.setState({ message: error.response.data.messageCode });
                                                    break;
                                                default:
                                                    this.setState({ message: 'static.unkownError' });
                                                    break;
                                            }
                                        }
                                        document.getElementById("retryButtonDiv").style.display = "block";
                                    });
                            } else {
                                document.getElementById("retryButtonDiv").style.display = "block";
                                this.setState({
                                    message: 'static.common.onlinealerttext'
                                })
                            }
                        }
                    }.bind(this)
                }.bind(this)
            }.bind(this)
        } else {
            this.setState({
                message: 'static.common.onlinealerttext'
            })
        }
    }


    retryClicked() {
        this.setState({
            totalMasters: TOTAL_NO_OF_MASTERS_IN_SYNC,
            syncedMasters: 0,
            syncedPercentage: 0,
            errorMessage: "",
            successMessage: ""
        })
        document.getElementById("retryButtonDiv").style.display = "none";
        this.syncMasters();
        // confirmAlert({
        //     // title: i18n.t('static.masterDataSync.masterDataSync'),
        //     message: i18n.t('static.masterDataSync.confirmRetrySyncMessage'),
        //     buttons: [
        //         {
        //             label: i18n.t('static.program.yes'),
        //             onClick: () => {
        //                 this.setState({
        //                     totalMasters: 27,
        //                     syncedMasters: 0,
        //                     syncedPercentage: 0,
        //                     errorMessage: "",
        //                     successMessage: ""
        //                 })
        //                 this.syncMasters();
        //             }
        //         },
        //         {
        //             label: i18n.t('static.program.no'),
        //             onClick: () => {
        //                 // document.getElementById("retryButtonDiv").style.display = "block";
        //                 this.setState({
        //                     message: i18n.t('static.actionCancelled')
        //                 })
        //             }
        //         }
        //     ]
        // });



    }
}