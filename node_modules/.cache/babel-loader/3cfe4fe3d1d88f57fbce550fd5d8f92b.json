{"ast":null,"code":"import * as JsStore from 'jsstore';\nimport { IDataBase, DATA_TYPE, ITable } from 'jsstore';\nimport CryptoJS from 'crypto-js';\nimport { SECRET_KEY } from '../Constants.js'; // This will ensure that we are using only one instance. \n// Otherwise due to multiple instance multiple worker will be created.\n\nexport var idbCon = new JsStore.Connection();\nexport var dbname = 'fasp';\n\nfunction getDbSchema() {\n  var tblDataSource = {\n    name: 'dataSource',\n    columns: {\n      // Here \"Id\" is name of column \n      dataSourceId: {\n        primaryKey: true\n      },\n      active: {\n        notNull: true,\n        dataType: \"boolean\"\n      },\n      dataSourceType: {\n        notNull: true,\n        dataType: \"object\"\n      },\n      label: {\n        notNull: true,\n        dataType: \"object\"\n      }\n    }\n  };\n  var tblCurrency = {\n    name: 'currency',\n    columns: {\n      // Here \"Id\" is name of column \n      currencyId: {\n        primaryKey: true,\n        dataType: \"number\"\n      },\n      conversionRateToUsd: {\n        notNull: true,\n        dataType: \"number\"\n      },\n      currencyCode: {\n        notNull: true,\n        dataType: \"string\"\n      },\n      currencySymbol: {\n        notNull: true,\n        dataType: \"string\"\n      },\n      label: {\n        notNull: true,\n        dataType: \"object\"\n      }\n    }\n  };\n  var db = {\n    name: dbname,\n    tables: [tblDataSource, tblCurrency]\n  };\n  return db;\n}\n\nexport function syncDataSource(json) {\n  var database = getDbSchema();\n  var isDbCreated = idbCon.initDb(database);\n\n  for (var i = 0; i < json.length; i++) {\n    console.log(\"in loop\");\n    var newData = {\n      dataSourceId: json[i].dataSourceId,\n      active: json[i].active,\n      dataSourceType: json[i].dataSourceType,\n      label: json[i].label\n    };\n    idbCon.insert({\n      into: \"dataSource\",\n      upsert: true,\n      values: [newData] //you can insert multiple values at a time\n\n    });\n  }\n}\nexport function syncCurrency(json) {\n  var database = getDbSchema();\n  var isDbCreated = idbCon.initDb(database);\n\n  for (var i = 0; i < json.length; i++) {\n    console.log(\"in loop\");\n    var newData = {\n      currencyId: json[i].currencyId,\n      conversionRateToUsd: json[i].conversionRateToUsd,\n      currencyCode: json[i].currencyCode,\n      currencySymbol: json[i].currencySymbol,\n      label: json[i].label\n    };\n    idbCon.insert({\n      into: \"currency\",\n      upsert: true,\n      values: [newData] //you can insert multiple values at a time\n\n    });\n  }\n}","map":{"version":3,"sources":["/home/altius/NodeJs/gitHubRepos/fasp-core-ui/src/CommonComponent/JsStoreFunctionsCore.js"],"names":["JsStore","IDataBase","DATA_TYPE","ITable","CryptoJS","SECRET_KEY","idbCon","Connection","dbname","getDbSchema","tblDataSource","name","columns","dataSourceId","primaryKey","active","notNull","dataType","dataSourceType","label","tblCurrency","currencyId","conversionRateToUsd","currencyCode","currencySymbol","db","tables","syncDataSource","json","database","isDbCreated","initDb","i","length","console","log","newData","insert","into","upsert","values","syncCurrency"],"mappings":"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","sourcesContent":["import * as JsStore from 'jsstore';\nimport { IDataBase, DATA_TYPE, ITable } from 'jsstore';\nimport CryptoJS from 'crypto-js'\nimport { SECRET_KEY } from '../Constants.js'\n// This will ensure that we are using only one instance. \n// Otherwise due to multiple instance multiple worker will be created.\nexport const idbCon = new JsStore.Connection();\nexport const dbname = 'fasp';\n\nfunction getDbSchema() {\n    var tblDataSource = {\n        name: 'dataSource',\n        columns: {\n            // Here \"Id\" is name of column \n            dataSourceId: { primaryKey: true },\n            active: { notNull: true, dataType: \"boolean\" },\n            dataSourceType: { notNull: true, dataType: \"object\" },\n            label: { notNull: true, dataType: \"object\" }\n        }\n    };\n    var tblCurrency = {\n        name: 'currency',\n        columns: {\n            // Here \"Id\" is name of column \n            currencyId: { primaryKey: true, dataType: \"number\"  },\n            conversionRateToUsd: { notNull: true, dataType: \"number\" },\n            currencyCode: { notNull: true, dataType: \"string\" },\n            currencySymbol:{notNull: true, dataType: \"string\"},\n            label: { notNull: true, dataType: \"object\" }\n        }\n    };\n    var db = {\n        name: dbname,\n        tables: [tblDataSource,tblCurrency]\n    }\n    return db;\n}\n\nexport function syncDataSource(json) {\n    var database = getDbSchema();\n    var isDbCreated=idbCon.initDb(database);\n    for (var i = 0; i < json.length; i++) {\n        console.log(\"in loop\")\n        var newData = {\n            dataSourceId: json[i].dataSourceId,\n            active: json[i].active,\n            dataSourceType: json[i].dataSourceType,\n            label: json[i].label\n        }\n        idbCon.insert({\n            into: \"dataSource\",\n            upsert: true,\n            values: [newData], //you can insert multiple values at a time\n        })\n    }\n}\n\nexport function syncCurrency(json) {\n    var database = getDbSchema();\n    var isDbCreated=idbCon.initDb(database);\n    for (var i = 0; i < json.length; i++) {\n        console.log(\"in loop\")\n        var newData = {\n            currencyId: json[i].currencyId,\n            conversionRateToUsd: json[i].conversionRateToUsd,\n            currencyCode: json[i].currencyCode,\n            currencySymbol:json[i].currencySymbol,\n            label: json[i].label\n        }\n        idbCon.insert({\n            into: \"currency\",\n            upsert: true,\n            values: [newData], //you can insert multiple values at a time\n        })\n    }\n}"]},"metadata":{},"sourceType":"module"}