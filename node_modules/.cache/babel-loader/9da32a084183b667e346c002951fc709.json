{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _enzymeShallowEqual = _interopRequireDefault(require(\"enzyme-shallow-equal\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _objectSpread10 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactMomentProptypes = _interopRequireDefault(require(\"react-moment-proptypes\"));\n\nvar _airbnbPropTypes = require(\"airbnb-prop-types\");\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _object = _interopRequireDefault(require(\"object.values\"));\n\nvar _isTouchDevice = _interopRequireDefault(require(\"is-touch-device\"));\n\nvar _defaultPhrases = require(\"../defaultPhrases\");\n\nvar _getPhrasePropTypes = _interopRequireDefault(require(\"../utils/getPhrasePropTypes\"));\n\nvar _isInclusivelyAfterDay = _interopRequireDefault(require(\"../utils/isInclusivelyAfterDay\"));\n\nvar _isNextDay = _interopRequireDefault(require(\"../utils/isNextDay\"));\n\nvar _isSameDay = _interopRequireDefault(require(\"../utils/isSameDay\"));\n\nvar _isAfterDay = _interopRequireDefault(require(\"../utils/isAfterDay\"));\n\nvar _isBeforeDay = _interopRequireDefault(require(\"../utils/isBeforeDay\"));\n\nvar _getVisibleDays = _interopRequireDefault(require(\"../utils/getVisibleDays\"));\n\nvar _isDayVisible = _interopRequireDefault(require(\"../utils/isDayVisible\"));\n\nvar _getSelectedDateOffset = _interopRequireDefault(require(\"../utils/getSelectedDateOffset\"));\n\nvar _toISODateString = _interopRequireDefault(require(\"../utils/toISODateString\"));\n\nvar _modifiers = require(\"../utils/modifiers\");\n\nvar _DisabledShape = _interopRequireDefault(require(\"../shapes/DisabledShape\"));\n\nvar _FocusedInputShape = _interopRequireDefault(require(\"../shapes/FocusedInputShape\"));\n\nvar _ScrollableOrientationShape = _interopRequireDefault(require(\"../shapes/ScrollableOrientationShape\"));\n\nvar _DayOfWeekShape = _interopRequireDefault(require(\"../shapes/DayOfWeekShape\"));\n\nvar _CalendarInfoPositionShape = _interopRequireDefault(require(\"../shapes/CalendarInfoPositionShape\"));\n\nvar _constants = require(\"../constants\");\n\nvar _DayPicker = _interopRequireDefault(require(\"./DayPicker\"));\n\nvar _getPooledMoment = _interopRequireDefault(require(\"../utils/getPooledMoment\"));\n\nvar propTypes = process.env.NODE_ENV !== \"production\" ? (0, _airbnbPropTypes.forbidExtraProps)({\n  startDate: _reactMomentProptypes[\"default\"].momentObj,\n  endDate: _reactMomentProptypes[\"default\"].momentObj,\n  onDatesChange: _propTypes[\"default\"].func,\n  startDateOffset: _propTypes[\"default\"].func,\n  endDateOffset: _propTypes[\"default\"].func,\n  minDate: _reactMomentProptypes[\"default\"].momentObj,\n  maxDate: _reactMomentProptypes[\"default\"].momentObj,\n  focusedInput: _FocusedInputShape[\"default\"],\n  onFocusChange: _propTypes[\"default\"].func,\n  onClose: _propTypes[\"default\"].func,\n  keepOpenOnDateSelect: _propTypes[\"default\"].bool,\n  minimumNights: _propTypes[\"default\"].number,\n  disabled: _DisabledShape[\"default\"],\n  isOutsideRange: _propTypes[\"default\"].func,\n  isDayBlocked: _propTypes[\"default\"].func,\n  isDayHighlighted: _propTypes[\"default\"].func,\n  getMinNightsForHoverDate: _propTypes[\"default\"].func,\n  // DayPicker props\n  renderMonthText: (0, _airbnbPropTypes.mutuallyExclusiveProps)(_propTypes[\"default\"].func, 'renderMonthText', 'renderMonthElement'),\n  renderMonthElement: (0, _airbnbPropTypes.mutuallyExclusiveProps)(_propTypes[\"default\"].func, 'renderMonthText', 'renderMonthElement'),\n  enableOutsideDays: _propTypes[\"default\"].bool,\n  numberOfMonths: _propTypes[\"default\"].number,\n  orientation: _ScrollableOrientationShape[\"default\"],\n  withPortal: _propTypes[\"default\"].bool,\n  initialVisibleMonth: _propTypes[\"default\"].func,\n  hideKeyboardShortcutsPanel: _propTypes[\"default\"].bool,\n  daySize: _airbnbPropTypes.nonNegativeInteger,\n  noBorder: _propTypes[\"default\"].bool,\n  verticalBorderSpacing: _airbnbPropTypes.nonNegativeInteger,\n  horizontalMonthPadding: _airbnbPropTypes.nonNegativeInteger,\n  navPrev: _propTypes[\"default\"].node,\n  navNext: _propTypes[\"default\"].node,\n  noNavButtons: _propTypes[\"default\"].bool,\n  onPrevMonthClick: _propTypes[\"default\"].func,\n  onNextMonthClick: _propTypes[\"default\"].func,\n  onOutsideClick: _propTypes[\"default\"].func,\n  renderCalendarDay: _propTypes[\"default\"].func,\n  renderDayContents: _propTypes[\"default\"].func,\n  renderCalendarInfo: _propTypes[\"default\"].func,\n  renderKeyboardShortcutsButton: _propTypes[\"default\"].func,\n  calendarInfoPosition: _CalendarInfoPositionShape[\"default\"],\n  firstDayOfWeek: _DayOfWeekShape[\"default\"],\n  verticalHeight: _airbnbPropTypes.nonNegativeInteger,\n  transitionDuration: _airbnbPropTypes.nonNegativeInteger,\n  // accessibility\n  onBlur: _propTypes[\"default\"].func,\n  isFocused: _propTypes[\"default\"].bool,\n  showKeyboardShortcuts: _propTypes[\"default\"].bool,\n  onTab: _propTypes[\"default\"].func,\n  onShiftTab: _propTypes[\"default\"].func,\n  // i18n\n  monthFormat: _propTypes[\"default\"].string,\n  weekDayFormat: _propTypes[\"default\"].string,\n  phrases: _propTypes[\"default\"].shape((0, _getPhrasePropTypes[\"default\"])(_defaultPhrases.DayPickerPhrases)),\n  dayAriaLabelFormat: _propTypes[\"default\"].string,\n  isRTL: _propTypes[\"default\"].bool\n}) : {};\nvar defaultProps = {\n  startDate: undefined,\n  // TODO: use null\n  endDate: undefined,\n  // TODO: use null\n  minDate: null,\n  maxDate: null,\n  onDatesChange: function onDatesChange() {},\n  startDateOffset: undefined,\n  endDateOffset: undefined,\n  focusedInput: null,\n  onFocusChange: function onFocusChange() {},\n  onClose: function onClose() {},\n  keepOpenOnDateSelect: false,\n  minimumNights: 1,\n  disabled: false,\n  isOutsideRange: function isOutsideRange() {},\n  isDayBlocked: function isDayBlocked() {},\n  isDayHighlighted: function isDayHighlighted() {},\n  getMinNightsForHoverDate: function getMinNightsForHoverDate() {},\n  // DayPicker props\n  renderMonthText: null,\n  enableOutsideDays: false,\n  numberOfMonths: 1,\n  orientation: _constants.HORIZONTAL_ORIENTATION,\n  withPortal: false,\n  hideKeyboardShortcutsPanel: false,\n  initialVisibleMonth: null,\n  daySize: _constants.DAY_SIZE,\n  navPrev: null,\n  navNext: null,\n  noNavButtons: false,\n  onPrevMonthClick: function onPrevMonthClick() {},\n  onNextMonthClick: function onNextMonthClick() {},\n  onOutsideClick: function onOutsideClick() {},\n  renderCalendarDay: undefined,\n  renderDayContents: null,\n  renderCalendarInfo: null,\n  renderMonthElement: null,\n  renderKeyboardShortcutsButton: undefined,\n  calendarInfoPosition: _constants.INFO_POSITION_BOTTOM,\n  firstDayOfWeek: null,\n  verticalHeight: null,\n  noBorder: false,\n  transitionDuration: undefined,\n  verticalBorderSpacing: undefined,\n  horizontalMonthPadding: 13,\n  // accessibility\n  onBlur: function onBlur() {},\n  isFocused: false,\n  showKeyboardShortcuts: false,\n  onTab: function onTab() {},\n  onShiftTab: function onShiftTab() {},\n  // i18n\n  monthFormat: 'MMMM YYYY',\n  weekDayFormat: 'dd',\n  phrases: _defaultPhrases.DayPickerPhrases,\n  dayAriaLabelFormat: undefined,\n  isRTL: false\n};\n\nvar getChooseAvailableDatePhrase = function getChooseAvailableDatePhrase(phrases, focusedInput) {\n  if (focusedInput === _constants.START_DATE) {\n    return phrases.chooseAvailableStartDate;\n  }\n\n  if (focusedInput === _constants.END_DATE) {\n    return phrases.chooseAvailableEndDate;\n  }\n\n  return phrases.chooseAvailableDate;\n};\n\nvar DayPickerRangeController = /*#__PURE__*/function (_ref) {\n  (0, _inheritsLoose2[\"default\"])(DayPickerRangeController, _ref);\n  var _proto = DayPickerRangeController.prototype;\n\n  _proto[!_react[\"default\"].PureComponent && \"shouldComponentUpdate\"] = function (nextProps, nextState) {\n    return !(0, _enzymeShallowEqual[\"default\"])(this.props, nextProps) || !(0, _enzymeShallowEqual[\"default\"])(this.state, nextState);\n  };\n\n  function DayPickerRangeController(props) {\n    var _this;\n\n    _this = _ref.call(this, props) || this;\n    _this.isTouchDevice = (0, _isTouchDevice[\"default\"])();\n    _this.today = (0, _moment[\"default\"])();\n    _this.modifiers = {\n      today: function today(day) {\n        return _this.isToday(day);\n      },\n      blocked: function blocked(day) {\n        return _this.isBlocked(day);\n      },\n      'blocked-calendar': function blockedCalendar(day) {\n        return props.isDayBlocked(day);\n      },\n      'blocked-out-of-range': function blockedOutOfRange(day) {\n        return props.isOutsideRange(day);\n      },\n      'highlighted-calendar': function highlightedCalendar(day) {\n        return props.isDayHighlighted(day);\n      },\n      valid: function valid(day) {\n        return !_this.isBlocked(day);\n      },\n      'selected-start': function selectedStart(day) {\n        return _this.isStartDate(day);\n      },\n      'selected-end': function selectedEnd(day) {\n        return _this.isEndDate(day);\n      },\n      'blocked-minimum-nights': function blockedMinimumNights(day) {\n        return _this.doesNotMeetMinimumNights(day);\n      },\n      'selected-span': function selectedSpan(day) {\n        return _this.isInSelectedSpan(day);\n      },\n      'last-in-range': function lastInRange(day) {\n        return _this.isLastInRange(day);\n      },\n      hovered: function hovered(day) {\n        return _this.isHovered(day);\n      },\n      'hovered-span': function hoveredSpan(day) {\n        return _this.isInHoveredSpan(day);\n      },\n      'hovered-offset': function hoveredOffset(day) {\n        return _this.isInHoveredSpan(day);\n      },\n      'after-hovered-start': function afterHoveredStart(day) {\n        return _this.isDayAfterHoveredStartDate(day);\n      },\n      'first-day-of-week': function firstDayOfWeek(day) {\n        return _this.isFirstDayOfWeek(day);\n      },\n      'last-day-of-week': function lastDayOfWeek(day) {\n        return _this.isLastDayOfWeek(day);\n      },\n      'hovered-start-first-possible-end': function hoveredStartFirstPossibleEnd(day, hoverDate) {\n        return _this.isFirstPossibleEndDateForHoveredStartDate(day, hoverDate);\n      },\n      'hovered-start-blocked-minimum-nights': function hoveredStartBlockedMinimumNights(day, hoverDate) {\n        return _this.doesNotMeetMinNightsForHoveredStartDate(day, hoverDate);\n      }\n    };\n\n    var _this$getStateForNewM = _this.getStateForNewMonth(props),\n        currentMonth = _this$getStateForNewM.currentMonth,\n        visibleDays = _this$getStateForNewM.visibleDays; // initialize phrases\n    // set the appropriate CalendarDay phrase based on focusedInput\n\n\n    var chooseAvailableDate = getChooseAvailableDatePhrase(props.phrases, props.focusedInput);\n    _this.state = {\n      hoverDate: null,\n      currentMonth: currentMonth,\n      phrases: (0, _objectSpread10[\"default\"])({}, props.phrases, {\n        chooseAvailableDate: chooseAvailableDate\n      }),\n      visibleDays: visibleDays,\n      disablePrev: _this.shouldDisableMonthNavigation(props.minDate, currentMonth),\n      disableNext: _this.shouldDisableMonthNavigation(props.maxDate, currentMonth)\n    };\n    _this.onDayClick = _this.onDayClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.onDayMouseEnter = _this.onDayMouseEnter.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.onDayMouseLeave = _this.onDayMouseLeave.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.onPrevMonthClick = _this.onPrevMonthClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.onNextMonthClick = _this.onNextMonthClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.onMonthChange = _this.onMonthChange.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.onYearChange = _this.onYearChange.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.onMultiplyScrollableMonths = _this.onMultiplyScrollableMonths.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getFirstFocusableDay = _this.getFirstFocusableDay.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    return _this;\n  }\n\n  _proto.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    var _this2 = this;\n\n    var startDate = nextProps.startDate,\n        endDate = nextProps.endDate,\n        focusedInput = nextProps.focusedInput,\n        getMinNightsForHoverDate = nextProps.getMinNightsForHoverDate,\n        minimumNights = nextProps.minimumNights,\n        isOutsideRange = nextProps.isOutsideRange,\n        isDayBlocked = nextProps.isDayBlocked,\n        isDayHighlighted = nextProps.isDayHighlighted,\n        phrases = nextProps.phrases,\n        initialVisibleMonth = nextProps.initialVisibleMonth,\n        numberOfMonths = nextProps.numberOfMonths,\n        enableOutsideDays = nextProps.enableOutsideDays;\n    var _this$props = this.props,\n        prevStartDate = _this$props.startDate,\n        prevEndDate = _this$props.endDate,\n        prevFocusedInput = _this$props.focusedInput,\n        prevMinimumNights = _this$props.minimumNights,\n        prevIsOutsideRange = _this$props.isOutsideRange,\n        prevIsDayBlocked = _this$props.isDayBlocked,\n        prevIsDayHighlighted = _this$props.isDayHighlighted,\n        prevPhrases = _this$props.phrases,\n        prevInitialVisibleMonth = _this$props.initialVisibleMonth,\n        prevNumberOfMonths = _this$props.numberOfMonths,\n        prevEnableOutsideDays = _this$props.enableOutsideDays;\n    var hoverDate = this.state.hoverDate;\n    var visibleDays = this.state.visibleDays;\n    var recomputeOutsideRange = false;\n    var recomputeDayBlocked = false;\n    var recomputeDayHighlighted = false;\n\n    if (isOutsideRange !== prevIsOutsideRange) {\n      this.modifiers['blocked-out-of-range'] = function (day) {\n        return isOutsideRange(day);\n      };\n\n      recomputeOutsideRange = true;\n    }\n\n    if (isDayBlocked !== prevIsDayBlocked) {\n      this.modifiers['blocked-calendar'] = function (day) {\n        return isDayBlocked(day);\n      };\n\n      recomputeDayBlocked = true;\n    }\n\n    if (isDayHighlighted !== prevIsDayHighlighted) {\n      this.modifiers['highlighted-calendar'] = function (day) {\n        return isDayHighlighted(day);\n      };\n\n      recomputeDayHighlighted = true;\n    }\n\n    var recomputePropModifiers = recomputeOutsideRange || recomputeDayBlocked || recomputeDayHighlighted;\n    var didStartDateChange = startDate !== prevStartDate;\n    var didEndDateChange = endDate !== prevEndDate;\n    var didFocusChange = focusedInput !== prevFocusedInput;\n\n    if (numberOfMonths !== prevNumberOfMonths || enableOutsideDays !== prevEnableOutsideDays || initialVisibleMonth !== prevInitialVisibleMonth && !prevFocusedInput && didFocusChange) {\n      var newMonthState = this.getStateForNewMonth(nextProps);\n      var currentMonth = newMonthState.currentMonth;\n      visibleDays = newMonthState.visibleDays;\n      this.setState({\n        currentMonth: currentMonth,\n        visibleDays: visibleDays\n      });\n    }\n\n    var modifiers = {};\n\n    if (didStartDateChange) {\n      modifiers = this.deleteModifier(modifiers, prevStartDate, 'selected-start');\n      modifiers = this.addModifier(modifiers, startDate, 'selected-start');\n\n      if (prevStartDate) {\n        var startSpan = prevStartDate.clone().add(1, 'day');\n        var endSpan = prevStartDate.clone().add(prevMinimumNights + 1, 'days');\n        modifiers = this.deleteModifierFromRange(modifiers, startSpan, endSpan, 'after-hovered-start');\n      }\n    }\n\n    if (didEndDateChange) {\n      modifiers = this.deleteModifier(modifiers, prevEndDate, 'selected-end');\n      modifiers = this.addModifier(modifiers, endDate, 'selected-end');\n    }\n\n    if (didStartDateChange || didEndDateChange) {\n      if (prevStartDate && prevEndDate) {\n        modifiers = this.deleteModifierFromRange(modifiers, prevStartDate, prevEndDate.clone().add(1, 'day'), 'selected-span');\n      }\n\n      if (startDate && endDate) {\n        modifiers = this.deleteModifierFromRange(modifiers, startDate, endDate.clone().add(1, 'day'), 'hovered-span');\n        modifiers = this.addModifierToRange(modifiers, startDate.clone().add(1, 'day'), endDate, 'selected-span');\n      }\n    }\n\n    if (!this.isTouchDevice && didStartDateChange && startDate && !endDate) {\n      var _startSpan = startDate.clone().add(1, 'day');\n\n      var _endSpan = startDate.clone().add(minimumNights + 1, 'days');\n\n      modifiers = this.addModifierToRange(modifiers, _startSpan, _endSpan, 'after-hovered-start');\n    }\n\n    if (prevMinimumNights > 0) {\n      if (didFocusChange || didStartDateChange || minimumNights !== prevMinimumNights) {\n        var _startSpan2 = prevStartDate || this.today;\n\n        modifiers = this.deleteModifierFromRange(modifiers, _startSpan2, _startSpan2.clone().add(prevMinimumNights, 'days'), 'blocked-minimum-nights');\n        modifiers = this.deleteModifierFromRange(modifiers, _startSpan2, _startSpan2.clone().add(prevMinimumNights, 'days'), 'blocked');\n      }\n    }\n\n    if (didFocusChange || recomputePropModifiers) {\n      (0, _object[\"default\"])(visibleDays).forEach(function (days) {\n        Object.keys(days).forEach(function (day) {\n          var momentObj = (0, _getPooledMoment[\"default\"])(day);\n          var isBlocked = false;\n\n          if (didFocusChange || recomputeOutsideRange) {\n            if (isOutsideRange(momentObj)) {\n              modifiers = _this2.addModifier(modifiers, momentObj, 'blocked-out-of-range');\n              isBlocked = true;\n            } else {\n              modifiers = _this2.deleteModifier(modifiers, momentObj, 'blocked-out-of-range');\n            }\n          }\n\n          if (didFocusChange || recomputeDayBlocked) {\n            if (isDayBlocked(momentObj)) {\n              modifiers = _this2.addModifier(modifiers, momentObj, 'blocked-calendar');\n              isBlocked = true;\n            } else {\n              modifiers = _this2.deleteModifier(modifiers, momentObj, 'blocked-calendar');\n            }\n          }\n\n          if (isBlocked) {\n            modifiers = _this2.addModifier(modifiers, momentObj, 'blocked');\n          } else {\n            modifiers = _this2.deleteModifier(modifiers, momentObj, 'blocked');\n          }\n\n          if (didFocusChange || recomputeDayHighlighted) {\n            if (isDayHighlighted(momentObj)) {\n              modifiers = _this2.addModifier(modifiers, momentObj, 'highlighted-calendar');\n            } else {\n              modifiers = _this2.deleteModifier(modifiers, momentObj, 'highlighted-calendar');\n            }\n          }\n        });\n      });\n    }\n\n    if (!this.isTouchDevice && didFocusChange && hoverDate && !this.isBlocked(hoverDate)) {\n      var minNightsForHoverDate = getMinNightsForHoverDate(hoverDate);\n\n      if (minNightsForHoverDate > 0 && focusedInput === _constants.END_DATE) {\n        modifiers = this.deleteModifierFromRange(modifiers, hoverDate.clone().add(1, 'days'), hoverDate.clone().add(minNightsForHoverDate, 'days'), 'hovered-start-blocked-minimum-nights');\n        modifiers = this.deleteModifier(modifiers, hoverDate.clone().add(minNightsForHoverDate, 'days'), 'hovered-start-first-possible-end');\n      }\n\n      if (minNightsForHoverDate > 0 && focusedInput === _constants.START_DATE) {\n        modifiers = this.addModifierToRange(modifiers, hoverDate.clone().add(1, 'days'), hoverDate.clone().add(minNightsForHoverDate, 'days'), 'hovered-start-blocked-minimum-nights');\n        modifiers = this.addModifier(modifiers, hoverDate.clone().add(minNightsForHoverDate, 'days'), 'hovered-start-first-possible-end');\n      }\n    }\n\n    if (minimumNights > 0 && startDate && focusedInput === _constants.END_DATE) {\n      modifiers = this.addModifierToRange(modifiers, startDate, startDate.clone().add(minimumNights, 'days'), 'blocked-minimum-nights');\n      modifiers = this.addModifierToRange(modifiers, startDate, startDate.clone().add(minimumNights, 'days'), 'blocked');\n    }\n\n    var today = (0, _moment[\"default\"])();\n\n    if (!(0, _isSameDay[\"default\"])(this.today, today)) {\n      modifiers = this.deleteModifier(modifiers, this.today, 'today');\n      modifiers = this.addModifier(modifiers, today, 'today');\n      this.today = today;\n    }\n\n    if (Object.keys(modifiers).length > 0) {\n      this.setState({\n        visibleDays: (0, _objectSpread10[\"default\"])({}, visibleDays, {}, modifiers)\n      });\n    }\n\n    if (didFocusChange || phrases !== prevPhrases) {\n      // set the appropriate CalendarDay phrase based on focusedInput\n      var chooseAvailableDate = getChooseAvailableDatePhrase(phrases, focusedInput);\n      this.setState({\n        phrases: (0, _objectSpread10[\"default\"])({}, phrases, {\n          chooseAvailableDate: chooseAvailableDate\n        })\n      });\n    }\n  };\n\n  _proto.onDayClick = function onDayClick(day, e) {\n    var _this$props2 = this.props,\n        keepOpenOnDateSelect = _this$props2.keepOpenOnDateSelect,\n        minimumNights = _this$props2.minimumNights,\n        onBlur = _this$props2.onBlur,\n        focusedInput = _this$props2.focusedInput,\n        onFocusChange = _this$props2.onFocusChange,\n        onClose = _this$props2.onClose,\n        onDatesChange = _this$props2.onDatesChange,\n        startDateOffset = _this$props2.startDateOffset,\n        endDateOffset = _this$props2.endDateOffset,\n        disabled = _this$props2.disabled;\n    if (e) e.preventDefault();\n    if (this.isBlocked(day)) return;\n    var _this$props3 = this.props,\n        startDate = _this$props3.startDate,\n        endDate = _this$props3.endDate;\n\n    if (startDateOffset || endDateOffset) {\n      startDate = (0, _getSelectedDateOffset[\"default\"])(startDateOffset, day);\n      endDate = (0, _getSelectedDateOffset[\"default\"])(endDateOffset, day);\n\n      if (this.isBlocked(startDate) || this.isBlocked(endDate)) {\n        return;\n      }\n\n      onDatesChange({\n        startDate: startDate,\n        endDate: endDate\n      });\n\n      if (!keepOpenOnDateSelect) {\n        onFocusChange(null);\n        onClose({\n          startDate: startDate,\n          endDate: endDate\n        });\n      }\n    } else if (focusedInput === _constants.START_DATE) {\n      var lastAllowedStartDate = endDate && endDate.clone().subtract(minimumNights, 'days');\n      var isStartDateAfterEndDate = (0, _isBeforeDay[\"default\"])(lastAllowedStartDate, day) || (0, _isAfterDay[\"default\"])(startDate, endDate);\n      var isEndDateDisabled = disabled === _constants.END_DATE;\n\n      if (!isEndDateDisabled || !isStartDateAfterEndDate) {\n        startDate = day;\n\n        if (isStartDateAfterEndDate) {\n          endDate = null;\n        }\n      }\n\n      onDatesChange({\n        startDate: startDate,\n        endDate: endDate\n      });\n\n      if (isEndDateDisabled && !isStartDateAfterEndDate) {\n        onFocusChange(null);\n        onClose({\n          startDate: startDate,\n          endDate: endDate\n        });\n      } else if (!isEndDateDisabled) {\n        onFocusChange(_constants.END_DATE);\n      }\n    } else if (focusedInput === _constants.END_DATE) {\n      var firstAllowedEndDate = startDate && startDate.clone().add(minimumNights, 'days');\n\n      if (!startDate) {\n        endDate = day;\n        onDatesChange({\n          startDate: startDate,\n          endDate: endDate\n        });\n        onFocusChange(_constants.START_DATE);\n      } else if ((0, _isInclusivelyAfterDay[\"default\"])(day, firstAllowedEndDate)) {\n        endDate = day;\n        onDatesChange({\n          startDate: startDate,\n          endDate: endDate\n        });\n\n        if (!keepOpenOnDateSelect) {\n          onFocusChange(null);\n          onClose({\n            startDate: startDate,\n            endDate: endDate\n          });\n        }\n      } else if (disabled !== _constants.START_DATE) {\n        startDate = day;\n        endDate = null;\n        onDatesChange({\n          startDate: startDate,\n          endDate: endDate\n        });\n      } else {\n        onDatesChange({\n          startDate: startDate,\n          endDate: endDate\n        });\n      }\n    } else {\n      onDatesChange({\n        startDate: startDate,\n        endDate: endDate\n      });\n    }\n\n    onBlur();\n  };\n\n  _proto.onDayMouseEnter = function onDayMouseEnter(day) {\n    /* eslint react/destructuring-assignment: 1 */\n    if (this.isTouchDevice) return;\n    var _this$props4 = this.props,\n        startDate = _this$props4.startDate,\n        endDate = _this$props4.endDate,\n        focusedInput = _this$props4.focusedInput,\n        getMinNightsForHoverDate = _this$props4.getMinNightsForHoverDate,\n        minimumNights = _this$props4.minimumNights,\n        startDateOffset = _this$props4.startDateOffset,\n        endDateOffset = _this$props4.endDateOffset;\n    var _this$state = this.state,\n        hoverDate = _this$state.hoverDate,\n        visibleDays = _this$state.visibleDays,\n        dateOffset = _this$state.dateOffset;\n    var nextDateOffset = null;\n\n    if (focusedInput) {\n      var hasOffset = startDateOffset || endDateOffset;\n      var modifiers = {};\n\n      if (hasOffset) {\n        var start = (0, _getSelectedDateOffset[\"default\"])(startDateOffset, day);\n        var end = (0, _getSelectedDateOffset[\"default\"])(endDateOffset, day, function (rangeDay) {\n          return rangeDay.add(1, 'day');\n        });\n        nextDateOffset = {\n          start: start,\n          end: end\n        }; // eslint-disable-next-line react/destructuring-assignment\n\n        if (dateOffset && dateOffset.start && dateOffset.end) {\n          modifiers = this.deleteModifierFromRange(modifiers, dateOffset.start, dateOffset.end, 'hovered-offset');\n        }\n\n        modifiers = this.addModifierToRange(modifiers, start, end, 'hovered-offset');\n      }\n\n      if (!hasOffset) {\n        modifiers = this.deleteModifier(modifiers, hoverDate, 'hovered');\n        modifiers = this.addModifier(modifiers, day, 'hovered');\n\n        if (startDate && !endDate && focusedInput === _constants.END_DATE) {\n          if ((0, _isAfterDay[\"default\"])(hoverDate, startDate)) {\n            var endSpan = hoverDate.clone().add(1, 'day');\n            modifiers = this.deleteModifierFromRange(modifiers, startDate, endSpan, 'hovered-span');\n          }\n\n          if (!this.isBlocked(day) && (0, _isAfterDay[\"default\"])(day, startDate)) {\n            var _endSpan2 = day.clone().add(1, 'day');\n\n            modifiers = this.addModifierToRange(modifiers, startDate, _endSpan2, 'hovered-span');\n          }\n        }\n\n        if (!startDate && endDate && focusedInput === _constants.START_DATE) {\n          if ((0, _isBeforeDay[\"default\"])(hoverDate, endDate)) {\n            modifiers = this.deleteModifierFromRange(modifiers, hoverDate, endDate, 'hovered-span');\n          }\n\n          if (!this.isBlocked(day) && (0, _isBeforeDay[\"default\"])(day, endDate)) {\n            modifiers = this.addModifierToRange(modifiers, day, endDate, 'hovered-span');\n          }\n        }\n\n        if (startDate) {\n          var startSpan = startDate.clone().add(1, 'day');\n\n          var _endSpan3 = startDate.clone().add(minimumNights + 1, 'days');\n\n          modifiers = this.deleteModifierFromRange(modifiers, startSpan, _endSpan3, 'after-hovered-start');\n\n          if ((0, _isSameDay[\"default\"])(day, startDate)) {\n            var newStartSpan = startDate.clone().add(1, 'day');\n            var newEndSpan = startDate.clone().add(minimumNights + 1, 'days');\n            modifiers = this.addModifierToRange(modifiers, newStartSpan, newEndSpan, 'after-hovered-start');\n          }\n        }\n\n        if (hoverDate && !this.isBlocked(hoverDate)) {\n          var minNightsForPrevHoverDate = getMinNightsForHoverDate(hoverDate);\n\n          if (minNightsForPrevHoverDate > 0 && focusedInput === _constants.START_DATE) {\n            modifiers = this.deleteModifierFromRange(modifiers, hoverDate.clone().add(1, 'days'), hoverDate.clone().add(minNightsForPrevHoverDate, 'days'), 'hovered-start-blocked-minimum-nights');\n            modifiers = this.deleteModifier(modifiers, hoverDate.clone().add(minNightsForPrevHoverDate, 'days'), 'hovered-start-first-possible-end');\n          }\n        }\n\n        if (!this.isBlocked(day)) {\n          var minNightsForHoverDate = getMinNightsForHoverDate(day);\n\n          if (minNightsForHoverDate > 0 && focusedInput === _constants.START_DATE) {\n            modifiers = this.addModifierToRange(modifiers, day.clone().add(1, 'days'), day.clone().add(minNightsForHoverDate, 'days'), 'hovered-start-blocked-minimum-nights');\n            modifiers = this.addModifier(modifiers, day.clone().add(minNightsForHoverDate, 'days'), 'hovered-start-first-possible-end');\n          }\n        }\n      }\n\n      this.setState({\n        hoverDate: day,\n        dateOffset: nextDateOffset,\n        visibleDays: (0, _objectSpread10[\"default\"])({}, visibleDays, {}, modifiers)\n      });\n    }\n  };\n\n  _proto.onDayMouseLeave = function onDayMouseLeave(day) {\n    var _this$props5 = this.props,\n        startDate = _this$props5.startDate,\n        endDate = _this$props5.endDate,\n        focusedInput = _this$props5.focusedInput,\n        getMinNightsForHoverDate = _this$props5.getMinNightsForHoverDate,\n        minimumNights = _this$props5.minimumNights;\n    var _this$state2 = this.state,\n        hoverDate = _this$state2.hoverDate,\n        visibleDays = _this$state2.visibleDays,\n        dateOffset = _this$state2.dateOffset;\n    if (this.isTouchDevice || !hoverDate) return;\n    var modifiers = {};\n    modifiers = this.deleteModifier(modifiers, hoverDate, 'hovered');\n\n    if (dateOffset) {\n      modifiers = this.deleteModifierFromRange(modifiers, dateOffset.start, dateOffset.end, 'hovered-offset');\n    }\n\n    if (startDate && !endDate && (0, _isAfterDay[\"default\"])(hoverDate, startDate)) {\n      var endSpan = hoverDate.clone().add(1, 'day');\n      modifiers = this.deleteModifierFromRange(modifiers, startDate, endSpan, 'hovered-span');\n    }\n\n    if (!startDate && endDate && (0, _isAfterDay[\"default\"])(endDate, hoverDate)) {\n      modifiers = this.deleteModifierFromRange(modifiers, hoverDate, endDate, 'hovered-span');\n    }\n\n    if (startDate && (0, _isSameDay[\"default\"])(day, startDate)) {\n      var startSpan = startDate.clone().add(1, 'day');\n\n      var _endSpan4 = startDate.clone().add(minimumNights + 1, 'days');\n\n      modifiers = this.deleteModifierFromRange(modifiers, startSpan, _endSpan4, 'after-hovered-start');\n    }\n\n    if (!this.isBlocked(hoverDate)) {\n      var minNightsForHoverDate = getMinNightsForHoverDate(hoverDate);\n\n      if (minNightsForHoverDate > 0 && focusedInput === _constants.START_DATE) {\n        modifiers = this.deleteModifierFromRange(modifiers, hoverDate.clone().add(1, 'days'), hoverDate.clone().add(minNightsForHoverDate, 'days'), 'hovered-start-blocked-minimum-nights');\n        modifiers = this.deleteModifier(modifiers, hoverDate.clone().add(minNightsForHoverDate, 'days'), 'hovered-start-first-possible-end');\n      }\n    }\n\n    this.setState({\n      hoverDate: null,\n      visibleDays: (0, _objectSpread10[\"default\"])({}, visibleDays, {}, modifiers)\n    });\n  };\n\n  _proto.onPrevMonthClick = function onPrevMonthClick() {\n    var _this$props6 = this.props,\n        enableOutsideDays = _this$props6.enableOutsideDays,\n        maxDate = _this$props6.maxDate,\n        minDate = _this$props6.minDate,\n        numberOfMonths = _this$props6.numberOfMonths,\n        onPrevMonthClick = _this$props6.onPrevMonthClick;\n    var _this$state3 = this.state,\n        currentMonth = _this$state3.currentMonth,\n        visibleDays = _this$state3.visibleDays;\n    var newVisibleDays = {};\n    Object.keys(visibleDays).sort().slice(0, numberOfMonths + 1).forEach(function (month) {\n      newVisibleDays[month] = visibleDays[month];\n    });\n    var prevMonth = currentMonth.clone().subtract(2, 'months');\n    var prevMonthVisibleDays = (0, _getVisibleDays[\"default\"])(prevMonth, 1, enableOutsideDays, true);\n    var newCurrentMonth = currentMonth.clone().subtract(1, 'month');\n    this.setState({\n      currentMonth: newCurrentMonth,\n      disablePrev: this.shouldDisableMonthNavigation(minDate, newCurrentMonth),\n      disableNext: this.shouldDisableMonthNavigation(maxDate, newCurrentMonth),\n      visibleDays: (0, _objectSpread10[\"default\"])({}, newVisibleDays, {}, this.getModifiers(prevMonthVisibleDays))\n    }, function () {\n      onPrevMonthClick(newCurrentMonth.clone());\n    });\n  };\n\n  _proto.onNextMonthClick = function onNextMonthClick() {\n    var _this$props7 = this.props,\n        enableOutsideDays = _this$props7.enableOutsideDays,\n        maxDate = _this$props7.maxDate,\n        minDate = _this$props7.minDate,\n        numberOfMonths = _this$props7.numberOfMonths,\n        onNextMonthClick = _this$props7.onNextMonthClick;\n    var _this$state4 = this.state,\n        currentMonth = _this$state4.currentMonth,\n        visibleDays = _this$state4.visibleDays;\n    var newVisibleDays = {};\n    Object.keys(visibleDays).sort().slice(1).forEach(function (month) {\n      newVisibleDays[month] = visibleDays[month];\n    });\n    var nextMonth = currentMonth.clone().add(numberOfMonths + 1, 'month');\n    var nextMonthVisibleDays = (0, _getVisibleDays[\"default\"])(nextMonth, 1, enableOutsideDays, true);\n    var newCurrentMonth = currentMonth.clone().add(1, 'month');\n    this.setState({\n      currentMonth: newCurrentMonth,\n      disablePrev: this.shouldDisableMonthNavigation(minDate, newCurrentMonth),\n      disableNext: this.shouldDisableMonthNavigation(maxDate, newCurrentMonth),\n      visibleDays: (0, _objectSpread10[\"default\"])({}, newVisibleDays, {}, this.getModifiers(nextMonthVisibleDays))\n    }, function () {\n      onNextMonthClick(newCurrentMonth.clone());\n    });\n  };\n\n  _proto.onMonthChange = function onMonthChange(newMonth) {\n    var _this$props8 = this.props,\n        numberOfMonths = _this$props8.numberOfMonths,\n        enableOutsideDays = _this$props8.enableOutsideDays,\n        orientation = _this$props8.orientation;\n    var withoutTransitionMonths = orientation === _constants.VERTICAL_SCROLLABLE;\n    var newVisibleDays = (0, _getVisibleDays[\"default\"])(newMonth, numberOfMonths, enableOutsideDays, withoutTransitionMonths);\n    this.setState({\n      currentMonth: newMonth.clone(),\n      visibleDays: this.getModifiers(newVisibleDays)\n    });\n  };\n\n  _proto.onYearChange = function onYearChange(newMonth) {\n    var _this$props9 = this.props,\n        numberOfMonths = _this$props9.numberOfMonths,\n        enableOutsideDays = _this$props9.enableOutsideDays,\n        orientation = _this$props9.orientation;\n    var withoutTransitionMonths = orientation === _constants.VERTICAL_SCROLLABLE;\n    var newVisibleDays = (0, _getVisibleDays[\"default\"])(newMonth, numberOfMonths, enableOutsideDays, withoutTransitionMonths);\n    this.setState({\n      currentMonth: newMonth.clone(),\n      visibleDays: this.getModifiers(newVisibleDays)\n    });\n  };\n\n  _proto.onMultiplyScrollableMonths = function onMultiplyScrollableMonths() {\n    var _this$props10 = this.props,\n        numberOfMonths = _this$props10.numberOfMonths,\n        enableOutsideDays = _this$props10.enableOutsideDays;\n    var _this$state5 = this.state,\n        currentMonth = _this$state5.currentMonth,\n        visibleDays = _this$state5.visibleDays;\n    var numberOfVisibleMonths = Object.keys(visibleDays).length;\n    var nextMonth = currentMonth.clone().add(numberOfVisibleMonths, 'month');\n    var newVisibleDays = (0, _getVisibleDays[\"default\"])(nextMonth, numberOfMonths, enableOutsideDays, true);\n    this.setState({\n      visibleDays: (0, _objectSpread10[\"default\"])({}, visibleDays, {}, this.getModifiers(newVisibleDays))\n    });\n  };\n\n  _proto.getFirstFocusableDay = function getFirstFocusableDay(newMonth) {\n    var _this3 = this;\n\n    var _this$props11 = this.props,\n        startDate = _this$props11.startDate,\n        endDate = _this$props11.endDate,\n        focusedInput = _this$props11.focusedInput,\n        minimumNights = _this$props11.minimumNights,\n        numberOfMonths = _this$props11.numberOfMonths;\n    var focusedDate = newMonth.clone().startOf('month');\n\n    if (focusedInput === _constants.START_DATE && startDate) {\n      focusedDate = startDate.clone();\n    } else if (focusedInput === _constants.END_DATE && !endDate && startDate) {\n      focusedDate = startDate.clone().add(minimumNights, 'days');\n    } else if (focusedInput === _constants.END_DATE && endDate) {\n      focusedDate = endDate.clone();\n    }\n\n    if (this.isBlocked(focusedDate)) {\n      var days = [];\n      var lastVisibleDay = newMonth.clone().add(numberOfMonths - 1, 'months').endOf('month');\n      var currentDay = focusedDate.clone();\n\n      while (!(0, _isAfterDay[\"default\"])(currentDay, lastVisibleDay)) {\n        currentDay = currentDay.clone().add(1, 'day');\n        days.push(currentDay);\n      }\n\n      var viableDays = days.filter(function (day) {\n        return !_this3.isBlocked(day);\n      });\n\n      if (viableDays.length > 0) {\n        var _viableDays = (0, _slicedToArray2[\"default\"])(viableDays, 1);\n\n        focusedDate = _viableDays[0];\n      }\n    }\n\n    return focusedDate;\n  };\n\n  _proto.getModifiers = function getModifiers(visibleDays) {\n    var _this4 = this;\n\n    var modifiers = {};\n    Object.keys(visibleDays).forEach(function (month) {\n      modifiers[month] = {};\n      visibleDays[month].forEach(function (day) {\n        modifiers[month][(0, _toISODateString[\"default\"])(day)] = _this4.getModifiersForDay(day);\n      });\n    });\n    return modifiers;\n  };\n\n  _proto.getModifiersForDay = function getModifiersForDay(day) {\n    var _this5 = this;\n\n    return new Set(Object.keys(this.modifiers).filter(function (modifier) {\n      return _this5.modifiers[modifier](day);\n    }));\n  };\n\n  _proto.getStateForNewMonth = function getStateForNewMonth(nextProps) {\n    var _this6 = this;\n\n    var initialVisibleMonth = nextProps.initialVisibleMonth,\n        numberOfMonths = nextProps.numberOfMonths,\n        enableOutsideDays = nextProps.enableOutsideDays,\n        orientation = nextProps.orientation,\n        startDate = nextProps.startDate;\n    var initialVisibleMonthThunk = initialVisibleMonth || (startDate ? function () {\n      return startDate;\n    } : function () {\n      return _this6.today;\n    });\n    var currentMonth = initialVisibleMonthThunk();\n    var withoutTransitionMonths = orientation === _constants.VERTICAL_SCROLLABLE;\n    var visibleDays = this.getModifiers((0, _getVisibleDays[\"default\"])(currentMonth, numberOfMonths, enableOutsideDays, withoutTransitionMonths));\n    return {\n      currentMonth: currentMonth,\n      visibleDays: visibleDays\n    };\n  };\n\n  _proto.shouldDisableMonthNavigation = function shouldDisableMonthNavigation(date, visibleMonth) {\n    if (!date) return false;\n    var _this$props12 = this.props,\n        numberOfMonths = _this$props12.numberOfMonths,\n        enableOutsideDays = _this$props12.enableOutsideDays;\n    return (0, _isDayVisible[\"default\"])(date, visibleMonth, numberOfMonths, enableOutsideDays);\n  };\n\n  _proto.addModifier = function addModifier(updatedDays, day, modifier) {\n    return (0, _modifiers.addModifier)(updatedDays, day, modifier, this.props, this.state);\n  };\n\n  _proto.addModifierToRange = function addModifierToRange(updatedDays, start, end, modifier) {\n    var days = updatedDays;\n    var spanStart = start.clone();\n\n    while ((0, _isBeforeDay[\"default\"])(spanStart, end)) {\n      days = this.addModifier(days, spanStart, modifier);\n      spanStart = spanStart.clone().add(1, 'day');\n    }\n\n    return days;\n  };\n\n  _proto.deleteModifier = function deleteModifier(updatedDays, day, modifier) {\n    return (0, _modifiers.deleteModifier)(updatedDays, day, modifier, this.props, this.state);\n  };\n\n  _proto.deleteModifierFromRange = function deleteModifierFromRange(updatedDays, start, end, modifier) {\n    var days = updatedDays;\n    var spanStart = start.clone();\n\n    while ((0, _isBeforeDay[\"default\"])(spanStart, end)) {\n      days = this.deleteModifier(days, spanStart, modifier);\n      spanStart = spanStart.clone().add(1, 'day');\n    }\n\n    return days;\n  };\n\n  _proto.doesNotMeetMinimumNights = function doesNotMeetMinimumNights(day) {\n    var _this$props13 = this.props,\n        startDate = _this$props13.startDate,\n        isOutsideRange = _this$props13.isOutsideRange,\n        focusedInput = _this$props13.focusedInput,\n        minimumNights = _this$props13.minimumNights;\n    if (focusedInput !== _constants.END_DATE) return false;\n\n    if (startDate) {\n      var dayDiff = day.diff(startDate.clone().startOf('day').hour(12), 'days');\n      return dayDiff < minimumNights && dayDiff >= 0;\n    }\n\n    return isOutsideRange((0, _moment[\"default\"])(day).subtract(minimumNights, 'days'));\n  };\n\n  _proto.doesNotMeetMinNightsForHoveredStartDate = function doesNotMeetMinNightsForHoveredStartDate(day, hoverDate) {\n    var _this$props14 = this.props,\n        focusedInput = _this$props14.focusedInput,\n        getMinNightsForHoverDate = _this$props14.getMinNightsForHoverDate;\n    if (focusedInput !== _constants.END_DATE) return false;\n\n    if (hoverDate && !this.isBlocked(hoverDate)) {\n      var minNights = getMinNightsForHoverDate(hoverDate);\n      var dayDiff = day.diff(hoverDate.clone().startOf('day').hour(12), 'days');\n      return dayDiff < minNights && dayDiff >= 0;\n    }\n\n    return false;\n  };\n\n  _proto.isDayAfterHoveredStartDate = function isDayAfterHoveredStartDate(day) {\n    var _this$props15 = this.props,\n        startDate = _this$props15.startDate,\n        endDate = _this$props15.endDate,\n        minimumNights = _this$props15.minimumNights;\n\n    var _ref2 = this.state || {},\n        hoverDate = _ref2.hoverDate;\n\n    return !!startDate && !endDate && !this.isBlocked(day) && (0, _isNextDay[\"default\"])(hoverDate, day) && minimumNights > 0 && (0, _isSameDay[\"default\"])(hoverDate, startDate);\n  };\n\n  _proto.isEndDate = function isEndDate(day) {\n    var endDate = this.props.endDate;\n    return (0, _isSameDay[\"default\"])(day, endDate);\n  };\n\n  _proto.isHovered = function isHovered(day) {\n    var _ref3 = this.state || {},\n        hoverDate = _ref3.hoverDate;\n\n    var focusedInput = this.props.focusedInput;\n    return !!focusedInput && (0, _isSameDay[\"default\"])(day, hoverDate);\n  };\n\n  _proto.isInHoveredSpan = function isInHoveredSpan(day) {\n    var _this$props16 = this.props,\n        startDate = _this$props16.startDate,\n        endDate = _this$props16.endDate;\n\n    var _ref4 = this.state || {},\n        hoverDate = _ref4.hoverDate;\n\n    var isForwardRange = !!startDate && !endDate && (day.isBetween(startDate, hoverDate) || (0, _isSameDay[\"default\"])(hoverDate, day));\n    var isBackwardRange = !!endDate && !startDate && (day.isBetween(hoverDate, endDate) || (0, _isSameDay[\"default\"])(hoverDate, day));\n    var isValidDayHovered = hoverDate && !this.isBlocked(hoverDate);\n    return (isForwardRange || isBackwardRange) && isValidDayHovered;\n  };\n\n  _proto.isInSelectedSpan = function isInSelectedSpan(day) {\n    var _this$props17 = this.props,\n        startDate = _this$props17.startDate,\n        endDate = _this$props17.endDate;\n    return day.isBetween(startDate, endDate, 'days');\n  };\n\n  _proto.isLastInRange = function isLastInRange(day) {\n    var endDate = this.props.endDate;\n    return this.isInSelectedSpan(day) && (0, _isNextDay[\"default\"])(day, endDate);\n  };\n\n  _proto.isStartDate = function isStartDate(day) {\n    var startDate = this.props.startDate;\n    return (0, _isSameDay[\"default\"])(day, startDate);\n  };\n\n  _proto.isBlocked = function isBlocked(day) {\n    var _this$props18 = this.props,\n        isDayBlocked = _this$props18.isDayBlocked,\n        isOutsideRange = _this$props18.isOutsideRange;\n    return isDayBlocked(day) || isOutsideRange(day) || this.doesNotMeetMinimumNights(day);\n  };\n\n  _proto.isToday = function isToday(day) {\n    return (0, _isSameDay[\"default\"])(day, this.today);\n  };\n\n  _proto.isFirstDayOfWeek = function isFirstDayOfWeek(day) {\n    var firstDayOfWeek = this.props.firstDayOfWeek;\n    return day.day() === (firstDayOfWeek || _moment[\"default\"].localeData().firstDayOfWeek());\n  };\n\n  _proto.isLastDayOfWeek = function isLastDayOfWeek(day) {\n    var firstDayOfWeek = this.props.firstDayOfWeek;\n    return day.day() === ((firstDayOfWeek || _moment[\"default\"].localeData().firstDayOfWeek()) + 6) % 7;\n  };\n\n  _proto.isFirstPossibleEndDateForHoveredStartDate = function isFirstPossibleEndDateForHoveredStartDate(day, hoverDate) {\n    var _this$props19 = this.props,\n        focusedInput = _this$props19.focusedInput,\n        getMinNightsForHoverDate = _this$props19.getMinNightsForHoverDate;\n    if (focusedInput !== _constants.END_DATE || !hoverDate || this.isBlocked(hoverDate)) return false;\n    var minNights = getMinNightsForHoverDate(hoverDate);\n    var firstAvailableEndDate = hoverDate.clone().add(minNights, 'days');\n    return (0, _isSameDay[\"default\"])(day, firstAvailableEndDate);\n  };\n\n  _proto.render = function render() {\n    var _this$props20 = this.props,\n        numberOfMonths = _this$props20.numberOfMonths,\n        orientation = _this$props20.orientation,\n        monthFormat = _this$props20.monthFormat,\n        renderMonthText = _this$props20.renderMonthText,\n        navPrev = _this$props20.navPrev,\n        navNext = _this$props20.navNext,\n        noNavButtons = _this$props20.noNavButtons,\n        onOutsideClick = _this$props20.onOutsideClick,\n        withPortal = _this$props20.withPortal,\n        enableOutsideDays = _this$props20.enableOutsideDays,\n        firstDayOfWeek = _this$props20.firstDayOfWeek,\n        renderKeyboardShortcutsButton = _this$props20.renderKeyboardShortcutsButton,\n        hideKeyboardShortcutsPanel = _this$props20.hideKeyboardShortcutsPanel,\n        daySize = _this$props20.daySize,\n        focusedInput = _this$props20.focusedInput,\n        renderCalendarDay = _this$props20.renderCalendarDay,\n        renderDayContents = _this$props20.renderDayContents,\n        renderCalendarInfo = _this$props20.renderCalendarInfo,\n        renderMonthElement = _this$props20.renderMonthElement,\n        calendarInfoPosition = _this$props20.calendarInfoPosition,\n        onBlur = _this$props20.onBlur,\n        onShiftTab = _this$props20.onShiftTab,\n        onTab = _this$props20.onTab,\n        isFocused = _this$props20.isFocused,\n        showKeyboardShortcuts = _this$props20.showKeyboardShortcuts,\n        isRTL = _this$props20.isRTL,\n        weekDayFormat = _this$props20.weekDayFormat,\n        dayAriaLabelFormat = _this$props20.dayAriaLabelFormat,\n        verticalHeight = _this$props20.verticalHeight,\n        noBorder = _this$props20.noBorder,\n        transitionDuration = _this$props20.transitionDuration,\n        verticalBorderSpacing = _this$props20.verticalBorderSpacing,\n        horizontalMonthPadding = _this$props20.horizontalMonthPadding;\n    var _this$state6 = this.state,\n        currentMonth = _this$state6.currentMonth,\n        phrases = _this$state6.phrases,\n        visibleDays = _this$state6.visibleDays,\n        disablePrev = _this$state6.disablePrev,\n        disableNext = _this$state6.disableNext;\n    return _react[\"default\"].createElement(_DayPicker[\"default\"], {\n      orientation: orientation,\n      enableOutsideDays: enableOutsideDays,\n      modifiers: visibleDays,\n      numberOfMonths: numberOfMonths,\n      onDayClick: this.onDayClick,\n      onDayMouseEnter: this.onDayMouseEnter,\n      onDayMouseLeave: this.onDayMouseLeave,\n      onPrevMonthClick: this.onPrevMonthClick,\n      onNextMonthClick: this.onNextMonthClick,\n      onMonthChange: this.onMonthChange,\n      onTab: onTab,\n      onShiftTab: onShiftTab,\n      onYearChange: this.onYearChange,\n      onMultiplyScrollableMonths: this.onMultiplyScrollableMonths,\n      monthFormat: monthFormat,\n      renderMonthText: renderMonthText,\n      withPortal: withPortal,\n      hidden: !focusedInput,\n      initialVisibleMonth: function initialVisibleMonth() {\n        return currentMonth;\n      },\n      daySize: daySize,\n      onOutsideClick: onOutsideClick,\n      disablePrev: disablePrev,\n      disableNext: disableNext,\n      navPrev: navPrev,\n      navNext: navNext,\n      noNavButtons: noNavButtons,\n      renderCalendarDay: renderCalendarDay,\n      renderDayContents: renderDayContents,\n      renderCalendarInfo: renderCalendarInfo,\n      renderMonthElement: renderMonthElement,\n      renderKeyboardShortcutsButton: renderKeyboardShortcutsButton,\n      calendarInfoPosition: calendarInfoPosition,\n      firstDayOfWeek: firstDayOfWeek,\n      hideKeyboardShortcutsPanel: hideKeyboardShortcutsPanel,\n      isFocused: isFocused,\n      getFirstFocusableDay: this.getFirstFocusableDay,\n      onBlur: onBlur,\n      showKeyboardShortcuts: showKeyboardShortcuts,\n      phrases: phrases,\n      isRTL: isRTL,\n      weekDayFormat: weekDayFormat,\n      dayAriaLabelFormat: dayAriaLabelFormat,\n      verticalHeight: verticalHeight,\n      verticalBorderSpacing: verticalBorderSpacing,\n      noBorder: noBorder,\n      transitionDuration: transitionDuration,\n      horizontalMonthPadding: horizontalMonthPadding\n    });\n  };\n\n  return DayPickerRangeController;\n}(_react[\"default\"].PureComponent || _react[\"default\"].Component);\n\nexports[\"default\"] = DayPickerRangeController;\nDayPickerRangeController.propTypes = process.env.NODE_ENV !== \"production\" ? propTypes : {};\nDayPickerRangeController.defaultProps = defaultProps;","map":{"version":3,"sources":["/home/altius/QAT/fasp-core-ui/node_modules/react-dates/lib/components/DayPickerRangeController.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","_enzymeShallowEqual","_slicedToArray2","_objectSpread10","_assertThisInitialized2","_inheritsLoose2","_react","_propTypes","_reactMomentProptypes","_airbnbPropTypes","_moment","_object","_isTouchDevice","_defaultPhrases","_getPhrasePropTypes","_isInclusivelyAfterDay","_isNextDay","_isSameDay","_isAfterDay","_isBeforeDay","_getVisibleDays","_isDayVisible","_getSelectedDateOffset","_toISODateString","_modifiers","_DisabledShape","_FocusedInputShape","_ScrollableOrientationShape","_DayOfWeekShape","_CalendarInfoPositionShape","_constants","_DayPicker","_getPooledMoment","propTypes","process","env","NODE_ENV","forbidExtraProps","startDate","momentObj","endDate","onDatesChange","func","startDateOffset","endDateOffset","minDate","maxDate","focusedInput","onFocusChange","onClose","keepOpenOnDateSelect","bool","minimumNights","number","disabled","isOutsideRange","isDayBlocked","isDayHighlighted","getMinNightsForHoverDate","renderMonthText","mutuallyExclusiveProps","renderMonthElement","enableOutsideDays","numberOfMonths","orientation","withPortal","initialVisibleMonth","hideKeyboardShortcutsPanel","daySize","nonNegativeInteger","noBorder","verticalBorderSpacing","horizontalMonthPadding","navPrev","node","navNext","noNavButtons","onPrevMonthClick","onNextMonthClick","onOutsideClick","renderCalendarDay","renderDayContents","renderCalendarInfo","renderKeyboardShortcutsButton","calendarInfoPosition","firstDayOfWeek","verticalHeight","transitionDuration","onBlur","isFocused","showKeyboardShortcuts","onTab","onShiftTab","monthFormat","string","weekDayFormat","phrases","shape","DayPickerPhrases","dayAriaLabelFormat","isRTL","defaultProps","undefined","HORIZONTAL_ORIENTATION","DAY_SIZE","INFO_POSITION_BOTTOM","getChooseAvailableDatePhrase","START_DATE","chooseAvailableStartDate","END_DATE","chooseAvailableEndDate","chooseAvailableDate","DayPickerRangeController","_ref","_proto","prototype","PureComponent","nextProps","nextState","props","state","_this","call","isTouchDevice","today","modifiers","day","isToday","blocked","isBlocked","blockedCalendar","blockedOutOfRange","highlightedCalendar","valid","selectedStart","isStartDate","selectedEnd","isEndDate","blockedMinimumNights","doesNotMeetMinimumNights","selectedSpan","isInSelectedSpan","lastInRange","isLastInRange","hovered","isHovered","hoveredSpan","isInHoveredSpan","hoveredOffset","afterHoveredStart","isDayAfterHoveredStartDate","isFirstDayOfWeek","lastDayOfWeek","isLastDayOfWeek","hoveredStartFirstPossibleEnd","hoverDate","isFirstPossibleEndDateForHoveredStartDate","hoveredStartBlockedMinimumNights","doesNotMeetMinNightsForHoveredStartDate","_this$getStateForNewM","getStateForNewMonth","currentMonth","visibleDays","disablePrev","shouldDisableMonthNavigation","disableNext","onDayClick","bind","onDayMouseEnter","onDayMouseLeave","onMonthChange","onYearChange","onMultiplyScrollableMonths","getFirstFocusableDay","componentWillReceiveProps","_this2","_this$props","prevStartDate","prevEndDate","prevFocusedInput","prevMinimumNights","prevIsOutsideRange","prevIsDayBlocked","prevIsDayHighlighted","prevPhrases","prevInitialVisibleMonth","prevNumberOfMonths","prevEnableOutsideDays","recomputeOutsideRange","recomputeDayBlocked","recomputeDayHighlighted","recomputePropModifiers","didStartDateChange","didEndDateChange","didFocusChange","newMonthState","setState","deleteModifier","addModifier","startSpan","clone","add","endSpan","deleteModifierFromRange","addModifierToRange","_startSpan","_endSpan","_startSpan2","forEach","days","keys","minNightsForHoverDate","length","e","_this$props2","preventDefault","_this$props3","lastAllowedStartDate","subtract","isStartDateAfterEndDate","isEndDateDisabled","firstAllowedEndDate","_this$props4","_this$state","dateOffset","nextDateOffset","hasOffset","start","end","rangeDay","_endSpan2","_endSpan3","newStartSpan","newEndSpan","minNightsForPrevHoverDate","_this$props5","_this$state2","_endSpan4","_this$props6","_this$state3","newVisibleDays","sort","slice","month","prevMonth","prevMonthVisibleDays","newCurrentMonth","getModifiers","_this$props7","_this$state4","nextMonth","nextMonthVisibleDays","newMonth","_this$props8","withoutTransitionMonths","VERTICAL_SCROLLABLE","_this$props9","_this$props10","_this$state5","numberOfVisibleMonths","_this3","_this$props11","focusedDate","startOf","lastVisibleDay","endOf","currentDay","push","viableDays","filter","_viableDays","_this4","getModifiersForDay","_this5","Set","modifier","_this6","initialVisibleMonthThunk","date","visibleMonth","_this$props12","updatedDays","spanStart","_this$props13","dayDiff","diff","hour","_this$props14","minNights","_this$props15","_ref2","_ref3","_this$props16","_ref4","isForwardRange","isBetween","isBackwardRange","isValidDayHovered","_this$props17","_this$props18","localeData","_this$props19","firstAvailableEndDate","render","_this$props20","_this$state6","createElement","hidden","Component"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _enzymeShallowEqual = _interopRequireDefault(require(\"enzyme-shallow-equal\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _objectSpread10 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactMomentProptypes = _interopRequireDefault(require(\"react-moment-proptypes\"));\n\nvar _airbnbPropTypes = require(\"airbnb-prop-types\");\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _object = _interopRequireDefault(require(\"object.values\"));\n\nvar _isTouchDevice = _interopRequireDefault(require(\"is-touch-device\"));\n\nvar _defaultPhrases = require(\"../defaultPhrases\");\n\nvar _getPhrasePropTypes = _interopRequireDefault(require(\"../utils/getPhrasePropTypes\"));\n\nvar _isInclusivelyAfterDay = _interopRequireDefault(require(\"../utils/isInclusivelyAfterDay\"));\n\nvar _isNextDay = _interopRequireDefault(require(\"../utils/isNextDay\"));\n\nvar _isSameDay = _interopRequireDefault(require(\"../utils/isSameDay\"));\n\nvar _isAfterDay = _interopRequireDefault(require(\"../utils/isAfterDay\"));\n\nvar _isBeforeDay = _interopRequireDefault(require(\"../utils/isBeforeDay\"));\n\nvar _getVisibleDays = _interopRequireDefault(require(\"../utils/getVisibleDays\"));\n\nvar _isDayVisible = _interopRequireDefault(require(\"../utils/isDayVisible\"));\n\nvar _getSelectedDateOffset = _interopRequireDefault(require(\"../utils/getSelectedDateOffset\"));\n\nvar _toISODateString = _interopRequireDefault(require(\"../utils/toISODateString\"));\n\nvar _modifiers = require(\"../utils/modifiers\");\n\nvar _DisabledShape = _interopRequireDefault(require(\"../shapes/DisabledShape\"));\n\nvar _FocusedInputShape = _interopRequireDefault(require(\"../shapes/FocusedInputShape\"));\n\nvar _ScrollableOrientationShape = _interopRequireDefault(require(\"../shapes/ScrollableOrientationShape\"));\n\nvar _DayOfWeekShape = _interopRequireDefault(require(\"../shapes/DayOfWeekShape\"));\n\nvar _CalendarInfoPositionShape = _interopRequireDefault(require(\"../shapes/CalendarInfoPositionShape\"));\n\nvar _constants = require(\"../constants\");\n\nvar _DayPicker = _interopRequireDefault(require(\"./DayPicker\"));\n\nvar _getPooledMoment = _interopRequireDefault(require(\"../utils/getPooledMoment\"));\n\nvar propTypes = process.env.NODE_ENV !== \"production\" ? (0, _airbnbPropTypes.forbidExtraProps)({\n  startDate: _reactMomentProptypes[\"default\"].momentObj,\n  endDate: _reactMomentProptypes[\"default\"].momentObj,\n  onDatesChange: _propTypes[\"default\"].func,\n  startDateOffset: _propTypes[\"default\"].func,\n  endDateOffset: _propTypes[\"default\"].func,\n  minDate: _reactMomentProptypes[\"default\"].momentObj,\n  maxDate: _reactMomentProptypes[\"default\"].momentObj,\n  focusedInput: _FocusedInputShape[\"default\"],\n  onFocusChange: _propTypes[\"default\"].func,\n  onClose: _propTypes[\"default\"].func,\n  keepOpenOnDateSelect: _propTypes[\"default\"].bool,\n  minimumNights: _propTypes[\"default\"].number,\n  disabled: _DisabledShape[\"default\"],\n  isOutsideRange: _propTypes[\"default\"].func,\n  isDayBlocked: _propTypes[\"default\"].func,\n  isDayHighlighted: _propTypes[\"default\"].func,\n  getMinNightsForHoverDate: _propTypes[\"default\"].func,\n  // DayPicker props\n  renderMonthText: (0, _airbnbPropTypes.mutuallyExclusiveProps)(_propTypes[\"default\"].func, 'renderMonthText', 'renderMonthElement'),\n  renderMonthElement: (0, _airbnbPropTypes.mutuallyExclusiveProps)(_propTypes[\"default\"].func, 'renderMonthText', 'renderMonthElement'),\n  enableOutsideDays: _propTypes[\"default\"].bool,\n  numberOfMonths: _propTypes[\"default\"].number,\n  orientation: _ScrollableOrientationShape[\"default\"],\n  withPortal: _propTypes[\"default\"].bool,\n  initialVisibleMonth: _propTypes[\"default\"].func,\n  hideKeyboardShortcutsPanel: _propTypes[\"default\"].bool,\n  daySize: _airbnbPropTypes.nonNegativeInteger,\n  noBorder: _propTypes[\"default\"].bool,\n  verticalBorderSpacing: _airbnbPropTypes.nonNegativeInteger,\n  horizontalMonthPadding: _airbnbPropTypes.nonNegativeInteger,\n  navPrev: _propTypes[\"default\"].node,\n  navNext: _propTypes[\"default\"].node,\n  noNavButtons: _propTypes[\"default\"].bool,\n  onPrevMonthClick: _propTypes[\"default\"].func,\n  onNextMonthClick: _propTypes[\"default\"].func,\n  onOutsideClick: _propTypes[\"default\"].func,\n  renderCalendarDay: _propTypes[\"default\"].func,\n  renderDayContents: _propTypes[\"default\"].func,\n  renderCalendarInfo: _propTypes[\"default\"].func,\n  renderKeyboardShortcutsButton: _propTypes[\"default\"].func,\n  calendarInfoPosition: _CalendarInfoPositionShape[\"default\"],\n  firstDayOfWeek: _DayOfWeekShape[\"default\"],\n  verticalHeight: _airbnbPropTypes.nonNegativeInteger,\n  transitionDuration: _airbnbPropTypes.nonNegativeInteger,\n  // accessibility\n  onBlur: _propTypes[\"default\"].func,\n  isFocused: _propTypes[\"default\"].bool,\n  showKeyboardShortcuts: _propTypes[\"default\"].bool,\n  onTab: _propTypes[\"default\"].func,\n  onShiftTab: _propTypes[\"default\"].func,\n  // i18n\n  monthFormat: _propTypes[\"default\"].string,\n  weekDayFormat: _propTypes[\"default\"].string,\n  phrases: _propTypes[\"default\"].shape((0, _getPhrasePropTypes[\"default\"])(_defaultPhrases.DayPickerPhrases)),\n  dayAriaLabelFormat: _propTypes[\"default\"].string,\n  isRTL: _propTypes[\"default\"].bool\n}) : {};\nvar defaultProps = {\n  startDate: undefined,\n  // TODO: use null\n  endDate: undefined,\n  // TODO: use null\n  minDate: null,\n  maxDate: null,\n  onDatesChange: function onDatesChange() {},\n  startDateOffset: undefined,\n  endDateOffset: undefined,\n  focusedInput: null,\n  onFocusChange: function onFocusChange() {},\n  onClose: function onClose() {},\n  keepOpenOnDateSelect: false,\n  minimumNights: 1,\n  disabled: false,\n  isOutsideRange: function isOutsideRange() {},\n  isDayBlocked: function isDayBlocked() {},\n  isDayHighlighted: function isDayHighlighted() {},\n  getMinNightsForHoverDate: function getMinNightsForHoverDate() {},\n  // DayPicker props\n  renderMonthText: null,\n  enableOutsideDays: false,\n  numberOfMonths: 1,\n  orientation: _constants.HORIZONTAL_ORIENTATION,\n  withPortal: false,\n  hideKeyboardShortcutsPanel: false,\n  initialVisibleMonth: null,\n  daySize: _constants.DAY_SIZE,\n  navPrev: null,\n  navNext: null,\n  noNavButtons: false,\n  onPrevMonthClick: function onPrevMonthClick() {},\n  onNextMonthClick: function onNextMonthClick() {},\n  onOutsideClick: function onOutsideClick() {},\n  renderCalendarDay: undefined,\n  renderDayContents: null,\n  renderCalendarInfo: null,\n  renderMonthElement: null,\n  renderKeyboardShortcutsButton: undefined,\n  calendarInfoPosition: _constants.INFO_POSITION_BOTTOM,\n  firstDayOfWeek: null,\n  verticalHeight: null,\n  noBorder: false,\n  transitionDuration: undefined,\n  verticalBorderSpacing: undefined,\n  horizontalMonthPadding: 13,\n  // accessibility\n  onBlur: function onBlur() {},\n  isFocused: false,\n  showKeyboardShortcuts: false,\n  onTab: function onTab() {},\n  onShiftTab: function onShiftTab() {},\n  // i18n\n  monthFormat: 'MMMM YYYY',\n  weekDayFormat: 'dd',\n  phrases: _defaultPhrases.DayPickerPhrases,\n  dayAriaLabelFormat: undefined,\n  isRTL: false\n};\n\nvar getChooseAvailableDatePhrase = function getChooseAvailableDatePhrase(phrases, focusedInput) {\n  if (focusedInput === _constants.START_DATE) {\n    return phrases.chooseAvailableStartDate;\n  }\n\n  if (focusedInput === _constants.END_DATE) {\n    return phrases.chooseAvailableEndDate;\n  }\n\n  return phrases.chooseAvailableDate;\n};\n\nvar DayPickerRangeController =\n/*#__PURE__*/\nfunction (_ref) {\n  (0, _inheritsLoose2[\"default\"])(DayPickerRangeController, _ref);\n  var _proto = DayPickerRangeController.prototype;\n\n  _proto[!_react[\"default\"].PureComponent && \"shouldComponentUpdate\"] = function (nextProps, nextState) {\n    return !(0, _enzymeShallowEqual[\"default\"])(this.props, nextProps) || !(0, _enzymeShallowEqual[\"default\"])(this.state, nextState);\n  };\n\n  function DayPickerRangeController(props) {\n    var _this;\n\n    _this = _ref.call(this, props) || this;\n    _this.isTouchDevice = (0, _isTouchDevice[\"default\"])();\n    _this.today = (0, _moment[\"default\"])();\n    _this.modifiers = {\n      today: function today(day) {\n        return _this.isToday(day);\n      },\n      blocked: function blocked(day) {\n        return _this.isBlocked(day);\n      },\n      'blocked-calendar': function blockedCalendar(day) {\n        return props.isDayBlocked(day);\n      },\n      'blocked-out-of-range': function blockedOutOfRange(day) {\n        return props.isOutsideRange(day);\n      },\n      'highlighted-calendar': function highlightedCalendar(day) {\n        return props.isDayHighlighted(day);\n      },\n      valid: function valid(day) {\n        return !_this.isBlocked(day);\n      },\n      'selected-start': function selectedStart(day) {\n        return _this.isStartDate(day);\n      },\n      'selected-end': function selectedEnd(day) {\n        return _this.isEndDate(day);\n      },\n      'blocked-minimum-nights': function blockedMinimumNights(day) {\n        return _this.doesNotMeetMinimumNights(day);\n      },\n      'selected-span': function selectedSpan(day) {\n        return _this.isInSelectedSpan(day);\n      },\n      'last-in-range': function lastInRange(day) {\n        return _this.isLastInRange(day);\n      },\n      hovered: function hovered(day) {\n        return _this.isHovered(day);\n      },\n      'hovered-span': function hoveredSpan(day) {\n        return _this.isInHoveredSpan(day);\n      },\n      'hovered-offset': function hoveredOffset(day) {\n        return _this.isInHoveredSpan(day);\n      },\n      'after-hovered-start': function afterHoveredStart(day) {\n        return _this.isDayAfterHoveredStartDate(day);\n      },\n      'first-day-of-week': function firstDayOfWeek(day) {\n        return _this.isFirstDayOfWeek(day);\n      },\n      'last-day-of-week': function lastDayOfWeek(day) {\n        return _this.isLastDayOfWeek(day);\n      },\n      'hovered-start-first-possible-end': function hoveredStartFirstPossibleEnd(day, hoverDate) {\n        return _this.isFirstPossibleEndDateForHoveredStartDate(day, hoverDate);\n      },\n      'hovered-start-blocked-minimum-nights': function hoveredStartBlockedMinimumNights(day, hoverDate) {\n        return _this.doesNotMeetMinNightsForHoveredStartDate(day, hoverDate);\n      }\n    };\n\n    var _this$getStateForNewM = _this.getStateForNewMonth(props),\n        currentMonth = _this$getStateForNewM.currentMonth,\n        visibleDays = _this$getStateForNewM.visibleDays; // initialize phrases\n    // set the appropriate CalendarDay phrase based on focusedInput\n\n\n    var chooseAvailableDate = getChooseAvailableDatePhrase(props.phrases, props.focusedInput);\n    _this.state = {\n      hoverDate: null,\n      currentMonth: currentMonth,\n      phrases: (0, _objectSpread10[\"default\"])({}, props.phrases, {\n        chooseAvailableDate: chooseAvailableDate\n      }),\n      visibleDays: visibleDays,\n      disablePrev: _this.shouldDisableMonthNavigation(props.minDate, currentMonth),\n      disableNext: _this.shouldDisableMonthNavigation(props.maxDate, currentMonth)\n    };\n    _this.onDayClick = _this.onDayClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.onDayMouseEnter = _this.onDayMouseEnter.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.onDayMouseLeave = _this.onDayMouseLeave.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.onPrevMonthClick = _this.onPrevMonthClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.onNextMonthClick = _this.onNextMonthClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.onMonthChange = _this.onMonthChange.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.onYearChange = _this.onYearChange.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.onMultiplyScrollableMonths = _this.onMultiplyScrollableMonths.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getFirstFocusableDay = _this.getFirstFocusableDay.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    return _this;\n  }\n\n  _proto.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    var _this2 = this;\n\n    var startDate = nextProps.startDate,\n        endDate = nextProps.endDate,\n        focusedInput = nextProps.focusedInput,\n        getMinNightsForHoverDate = nextProps.getMinNightsForHoverDate,\n        minimumNights = nextProps.minimumNights,\n        isOutsideRange = nextProps.isOutsideRange,\n        isDayBlocked = nextProps.isDayBlocked,\n        isDayHighlighted = nextProps.isDayHighlighted,\n        phrases = nextProps.phrases,\n        initialVisibleMonth = nextProps.initialVisibleMonth,\n        numberOfMonths = nextProps.numberOfMonths,\n        enableOutsideDays = nextProps.enableOutsideDays;\n    var _this$props = this.props,\n        prevStartDate = _this$props.startDate,\n        prevEndDate = _this$props.endDate,\n        prevFocusedInput = _this$props.focusedInput,\n        prevMinimumNights = _this$props.minimumNights,\n        prevIsOutsideRange = _this$props.isOutsideRange,\n        prevIsDayBlocked = _this$props.isDayBlocked,\n        prevIsDayHighlighted = _this$props.isDayHighlighted,\n        prevPhrases = _this$props.phrases,\n        prevInitialVisibleMonth = _this$props.initialVisibleMonth,\n        prevNumberOfMonths = _this$props.numberOfMonths,\n        prevEnableOutsideDays = _this$props.enableOutsideDays;\n    var hoverDate = this.state.hoverDate;\n    var visibleDays = this.state.visibleDays;\n    var recomputeOutsideRange = false;\n    var recomputeDayBlocked = false;\n    var recomputeDayHighlighted = false;\n\n    if (isOutsideRange !== prevIsOutsideRange) {\n      this.modifiers['blocked-out-of-range'] = function (day) {\n        return isOutsideRange(day);\n      };\n\n      recomputeOutsideRange = true;\n    }\n\n    if (isDayBlocked !== prevIsDayBlocked) {\n      this.modifiers['blocked-calendar'] = function (day) {\n        return isDayBlocked(day);\n      };\n\n      recomputeDayBlocked = true;\n    }\n\n    if (isDayHighlighted !== prevIsDayHighlighted) {\n      this.modifiers['highlighted-calendar'] = function (day) {\n        return isDayHighlighted(day);\n      };\n\n      recomputeDayHighlighted = true;\n    }\n\n    var recomputePropModifiers = recomputeOutsideRange || recomputeDayBlocked || recomputeDayHighlighted;\n    var didStartDateChange = startDate !== prevStartDate;\n    var didEndDateChange = endDate !== prevEndDate;\n    var didFocusChange = focusedInput !== prevFocusedInput;\n\n    if (numberOfMonths !== prevNumberOfMonths || enableOutsideDays !== prevEnableOutsideDays || initialVisibleMonth !== prevInitialVisibleMonth && !prevFocusedInput && didFocusChange) {\n      var newMonthState = this.getStateForNewMonth(nextProps);\n      var currentMonth = newMonthState.currentMonth;\n      visibleDays = newMonthState.visibleDays;\n      this.setState({\n        currentMonth: currentMonth,\n        visibleDays: visibleDays\n      });\n    }\n\n    var modifiers = {};\n\n    if (didStartDateChange) {\n      modifiers = this.deleteModifier(modifiers, prevStartDate, 'selected-start');\n      modifiers = this.addModifier(modifiers, startDate, 'selected-start');\n\n      if (prevStartDate) {\n        var startSpan = prevStartDate.clone().add(1, 'day');\n        var endSpan = prevStartDate.clone().add(prevMinimumNights + 1, 'days');\n        modifiers = this.deleteModifierFromRange(modifiers, startSpan, endSpan, 'after-hovered-start');\n      }\n    }\n\n    if (didEndDateChange) {\n      modifiers = this.deleteModifier(modifiers, prevEndDate, 'selected-end');\n      modifiers = this.addModifier(modifiers, endDate, 'selected-end');\n    }\n\n    if (didStartDateChange || didEndDateChange) {\n      if (prevStartDate && prevEndDate) {\n        modifiers = this.deleteModifierFromRange(modifiers, prevStartDate, prevEndDate.clone().add(1, 'day'), 'selected-span');\n      }\n\n      if (startDate && endDate) {\n        modifiers = this.deleteModifierFromRange(modifiers, startDate, endDate.clone().add(1, 'day'), 'hovered-span');\n        modifiers = this.addModifierToRange(modifiers, startDate.clone().add(1, 'day'), endDate, 'selected-span');\n      }\n    }\n\n    if (!this.isTouchDevice && didStartDateChange && startDate && !endDate) {\n      var _startSpan = startDate.clone().add(1, 'day');\n\n      var _endSpan = startDate.clone().add(minimumNights + 1, 'days');\n\n      modifiers = this.addModifierToRange(modifiers, _startSpan, _endSpan, 'after-hovered-start');\n    }\n\n    if (prevMinimumNights > 0) {\n      if (didFocusChange || didStartDateChange || minimumNights !== prevMinimumNights) {\n        var _startSpan2 = prevStartDate || this.today;\n\n        modifiers = this.deleteModifierFromRange(modifiers, _startSpan2, _startSpan2.clone().add(prevMinimumNights, 'days'), 'blocked-minimum-nights');\n        modifiers = this.deleteModifierFromRange(modifiers, _startSpan2, _startSpan2.clone().add(prevMinimumNights, 'days'), 'blocked');\n      }\n    }\n\n    if (didFocusChange || recomputePropModifiers) {\n      (0, _object[\"default\"])(visibleDays).forEach(function (days) {\n        Object.keys(days).forEach(function (day) {\n          var momentObj = (0, _getPooledMoment[\"default\"])(day);\n          var isBlocked = false;\n\n          if (didFocusChange || recomputeOutsideRange) {\n            if (isOutsideRange(momentObj)) {\n              modifiers = _this2.addModifier(modifiers, momentObj, 'blocked-out-of-range');\n              isBlocked = true;\n            } else {\n              modifiers = _this2.deleteModifier(modifiers, momentObj, 'blocked-out-of-range');\n            }\n          }\n\n          if (didFocusChange || recomputeDayBlocked) {\n            if (isDayBlocked(momentObj)) {\n              modifiers = _this2.addModifier(modifiers, momentObj, 'blocked-calendar');\n              isBlocked = true;\n            } else {\n              modifiers = _this2.deleteModifier(modifiers, momentObj, 'blocked-calendar');\n            }\n          }\n\n          if (isBlocked) {\n            modifiers = _this2.addModifier(modifiers, momentObj, 'blocked');\n          } else {\n            modifiers = _this2.deleteModifier(modifiers, momentObj, 'blocked');\n          }\n\n          if (didFocusChange || recomputeDayHighlighted) {\n            if (isDayHighlighted(momentObj)) {\n              modifiers = _this2.addModifier(modifiers, momentObj, 'highlighted-calendar');\n            } else {\n              modifiers = _this2.deleteModifier(modifiers, momentObj, 'highlighted-calendar');\n            }\n          }\n        });\n      });\n    }\n\n    if (!this.isTouchDevice && didFocusChange && hoverDate && !this.isBlocked(hoverDate)) {\n      var minNightsForHoverDate = getMinNightsForHoverDate(hoverDate);\n\n      if (minNightsForHoverDate > 0 && focusedInput === _constants.END_DATE) {\n        modifiers = this.deleteModifierFromRange(modifiers, hoverDate.clone().add(1, 'days'), hoverDate.clone().add(minNightsForHoverDate, 'days'), 'hovered-start-blocked-minimum-nights');\n        modifiers = this.deleteModifier(modifiers, hoverDate.clone().add(minNightsForHoverDate, 'days'), 'hovered-start-first-possible-end');\n      }\n\n      if (minNightsForHoverDate > 0 && focusedInput === _constants.START_DATE) {\n        modifiers = this.addModifierToRange(modifiers, hoverDate.clone().add(1, 'days'), hoverDate.clone().add(minNightsForHoverDate, 'days'), 'hovered-start-blocked-minimum-nights');\n        modifiers = this.addModifier(modifiers, hoverDate.clone().add(minNightsForHoverDate, 'days'), 'hovered-start-first-possible-end');\n      }\n    }\n\n    if (minimumNights > 0 && startDate && focusedInput === _constants.END_DATE) {\n      modifiers = this.addModifierToRange(modifiers, startDate, startDate.clone().add(minimumNights, 'days'), 'blocked-minimum-nights');\n      modifiers = this.addModifierToRange(modifiers, startDate, startDate.clone().add(minimumNights, 'days'), 'blocked');\n    }\n\n    var today = (0, _moment[\"default\"])();\n\n    if (!(0, _isSameDay[\"default\"])(this.today, today)) {\n      modifiers = this.deleteModifier(modifiers, this.today, 'today');\n      modifiers = this.addModifier(modifiers, today, 'today');\n      this.today = today;\n    }\n\n    if (Object.keys(modifiers).length > 0) {\n      this.setState({\n        visibleDays: (0, _objectSpread10[\"default\"])({}, visibleDays, {}, modifiers)\n      });\n    }\n\n    if (didFocusChange || phrases !== prevPhrases) {\n      // set the appropriate CalendarDay phrase based on focusedInput\n      var chooseAvailableDate = getChooseAvailableDatePhrase(phrases, focusedInput);\n      this.setState({\n        phrases: (0, _objectSpread10[\"default\"])({}, phrases, {\n          chooseAvailableDate: chooseAvailableDate\n        })\n      });\n    }\n  };\n\n  _proto.onDayClick = function onDayClick(day, e) {\n    var _this$props2 = this.props,\n        keepOpenOnDateSelect = _this$props2.keepOpenOnDateSelect,\n        minimumNights = _this$props2.minimumNights,\n        onBlur = _this$props2.onBlur,\n        focusedInput = _this$props2.focusedInput,\n        onFocusChange = _this$props2.onFocusChange,\n        onClose = _this$props2.onClose,\n        onDatesChange = _this$props2.onDatesChange,\n        startDateOffset = _this$props2.startDateOffset,\n        endDateOffset = _this$props2.endDateOffset,\n        disabled = _this$props2.disabled;\n    if (e) e.preventDefault();\n    if (this.isBlocked(day)) return;\n    var _this$props3 = this.props,\n        startDate = _this$props3.startDate,\n        endDate = _this$props3.endDate;\n\n    if (startDateOffset || endDateOffset) {\n      startDate = (0, _getSelectedDateOffset[\"default\"])(startDateOffset, day);\n      endDate = (0, _getSelectedDateOffset[\"default\"])(endDateOffset, day);\n\n      if (this.isBlocked(startDate) || this.isBlocked(endDate)) {\n        return;\n      }\n\n      onDatesChange({\n        startDate: startDate,\n        endDate: endDate\n      });\n\n      if (!keepOpenOnDateSelect) {\n        onFocusChange(null);\n        onClose({\n          startDate: startDate,\n          endDate: endDate\n        });\n      }\n    } else if (focusedInput === _constants.START_DATE) {\n      var lastAllowedStartDate = endDate && endDate.clone().subtract(minimumNights, 'days');\n      var isStartDateAfterEndDate = (0, _isBeforeDay[\"default\"])(lastAllowedStartDate, day) || (0, _isAfterDay[\"default\"])(startDate, endDate);\n      var isEndDateDisabled = disabled === _constants.END_DATE;\n\n      if (!isEndDateDisabled || !isStartDateAfterEndDate) {\n        startDate = day;\n\n        if (isStartDateAfterEndDate) {\n          endDate = null;\n        }\n      }\n\n      onDatesChange({\n        startDate: startDate,\n        endDate: endDate\n      });\n\n      if (isEndDateDisabled && !isStartDateAfterEndDate) {\n        onFocusChange(null);\n        onClose({\n          startDate: startDate,\n          endDate: endDate\n        });\n      } else if (!isEndDateDisabled) {\n        onFocusChange(_constants.END_DATE);\n      }\n    } else if (focusedInput === _constants.END_DATE) {\n      var firstAllowedEndDate = startDate && startDate.clone().add(minimumNights, 'days');\n\n      if (!startDate) {\n        endDate = day;\n        onDatesChange({\n          startDate: startDate,\n          endDate: endDate\n        });\n        onFocusChange(_constants.START_DATE);\n      } else if ((0, _isInclusivelyAfterDay[\"default\"])(day, firstAllowedEndDate)) {\n        endDate = day;\n        onDatesChange({\n          startDate: startDate,\n          endDate: endDate\n        });\n\n        if (!keepOpenOnDateSelect) {\n          onFocusChange(null);\n          onClose({\n            startDate: startDate,\n            endDate: endDate\n          });\n        }\n      } else if (disabled !== _constants.START_DATE) {\n        startDate = day;\n        endDate = null;\n        onDatesChange({\n          startDate: startDate,\n          endDate: endDate\n        });\n      } else {\n        onDatesChange({\n          startDate: startDate,\n          endDate: endDate\n        });\n      }\n    } else {\n      onDatesChange({\n        startDate: startDate,\n        endDate: endDate\n      });\n    }\n\n    onBlur();\n  };\n\n  _proto.onDayMouseEnter = function onDayMouseEnter(day) {\n    /* eslint react/destructuring-assignment: 1 */\n    if (this.isTouchDevice) return;\n    var _this$props4 = this.props,\n        startDate = _this$props4.startDate,\n        endDate = _this$props4.endDate,\n        focusedInput = _this$props4.focusedInput,\n        getMinNightsForHoverDate = _this$props4.getMinNightsForHoverDate,\n        minimumNights = _this$props4.minimumNights,\n        startDateOffset = _this$props4.startDateOffset,\n        endDateOffset = _this$props4.endDateOffset;\n    var _this$state = this.state,\n        hoverDate = _this$state.hoverDate,\n        visibleDays = _this$state.visibleDays,\n        dateOffset = _this$state.dateOffset;\n    var nextDateOffset = null;\n\n    if (focusedInput) {\n      var hasOffset = startDateOffset || endDateOffset;\n      var modifiers = {};\n\n      if (hasOffset) {\n        var start = (0, _getSelectedDateOffset[\"default\"])(startDateOffset, day);\n        var end = (0, _getSelectedDateOffset[\"default\"])(endDateOffset, day, function (rangeDay) {\n          return rangeDay.add(1, 'day');\n        });\n        nextDateOffset = {\n          start: start,\n          end: end\n        }; // eslint-disable-next-line react/destructuring-assignment\n\n        if (dateOffset && dateOffset.start && dateOffset.end) {\n          modifiers = this.deleteModifierFromRange(modifiers, dateOffset.start, dateOffset.end, 'hovered-offset');\n        }\n\n        modifiers = this.addModifierToRange(modifiers, start, end, 'hovered-offset');\n      }\n\n      if (!hasOffset) {\n        modifiers = this.deleteModifier(modifiers, hoverDate, 'hovered');\n        modifiers = this.addModifier(modifiers, day, 'hovered');\n\n        if (startDate && !endDate && focusedInput === _constants.END_DATE) {\n          if ((0, _isAfterDay[\"default\"])(hoverDate, startDate)) {\n            var endSpan = hoverDate.clone().add(1, 'day');\n            modifiers = this.deleteModifierFromRange(modifiers, startDate, endSpan, 'hovered-span');\n          }\n\n          if (!this.isBlocked(day) && (0, _isAfterDay[\"default\"])(day, startDate)) {\n            var _endSpan2 = day.clone().add(1, 'day');\n\n            modifiers = this.addModifierToRange(modifiers, startDate, _endSpan2, 'hovered-span');\n          }\n        }\n\n        if (!startDate && endDate && focusedInput === _constants.START_DATE) {\n          if ((0, _isBeforeDay[\"default\"])(hoverDate, endDate)) {\n            modifiers = this.deleteModifierFromRange(modifiers, hoverDate, endDate, 'hovered-span');\n          }\n\n          if (!this.isBlocked(day) && (0, _isBeforeDay[\"default\"])(day, endDate)) {\n            modifiers = this.addModifierToRange(modifiers, day, endDate, 'hovered-span');\n          }\n        }\n\n        if (startDate) {\n          var startSpan = startDate.clone().add(1, 'day');\n\n          var _endSpan3 = startDate.clone().add(minimumNights + 1, 'days');\n\n          modifiers = this.deleteModifierFromRange(modifiers, startSpan, _endSpan3, 'after-hovered-start');\n\n          if ((0, _isSameDay[\"default\"])(day, startDate)) {\n            var newStartSpan = startDate.clone().add(1, 'day');\n            var newEndSpan = startDate.clone().add(minimumNights + 1, 'days');\n            modifiers = this.addModifierToRange(modifiers, newStartSpan, newEndSpan, 'after-hovered-start');\n          }\n        }\n\n        if (hoverDate && !this.isBlocked(hoverDate)) {\n          var minNightsForPrevHoverDate = getMinNightsForHoverDate(hoverDate);\n\n          if (minNightsForPrevHoverDate > 0 && focusedInput === _constants.START_DATE) {\n            modifiers = this.deleteModifierFromRange(modifiers, hoverDate.clone().add(1, 'days'), hoverDate.clone().add(minNightsForPrevHoverDate, 'days'), 'hovered-start-blocked-minimum-nights');\n            modifiers = this.deleteModifier(modifiers, hoverDate.clone().add(minNightsForPrevHoverDate, 'days'), 'hovered-start-first-possible-end');\n          }\n        }\n\n        if (!this.isBlocked(day)) {\n          var minNightsForHoverDate = getMinNightsForHoverDate(day);\n\n          if (minNightsForHoverDate > 0 && focusedInput === _constants.START_DATE) {\n            modifiers = this.addModifierToRange(modifiers, day.clone().add(1, 'days'), day.clone().add(minNightsForHoverDate, 'days'), 'hovered-start-blocked-minimum-nights');\n            modifiers = this.addModifier(modifiers, day.clone().add(minNightsForHoverDate, 'days'), 'hovered-start-first-possible-end');\n          }\n        }\n      }\n\n      this.setState({\n        hoverDate: day,\n        dateOffset: nextDateOffset,\n        visibleDays: (0, _objectSpread10[\"default\"])({}, visibleDays, {}, modifiers)\n      });\n    }\n  };\n\n  _proto.onDayMouseLeave = function onDayMouseLeave(day) {\n    var _this$props5 = this.props,\n        startDate = _this$props5.startDate,\n        endDate = _this$props5.endDate,\n        focusedInput = _this$props5.focusedInput,\n        getMinNightsForHoverDate = _this$props5.getMinNightsForHoverDate,\n        minimumNights = _this$props5.minimumNights;\n    var _this$state2 = this.state,\n        hoverDate = _this$state2.hoverDate,\n        visibleDays = _this$state2.visibleDays,\n        dateOffset = _this$state2.dateOffset;\n    if (this.isTouchDevice || !hoverDate) return;\n    var modifiers = {};\n    modifiers = this.deleteModifier(modifiers, hoverDate, 'hovered');\n\n    if (dateOffset) {\n      modifiers = this.deleteModifierFromRange(modifiers, dateOffset.start, dateOffset.end, 'hovered-offset');\n    }\n\n    if (startDate && !endDate && (0, _isAfterDay[\"default\"])(hoverDate, startDate)) {\n      var endSpan = hoverDate.clone().add(1, 'day');\n      modifiers = this.deleteModifierFromRange(modifiers, startDate, endSpan, 'hovered-span');\n    }\n\n    if (!startDate && endDate && (0, _isAfterDay[\"default\"])(endDate, hoverDate)) {\n      modifiers = this.deleteModifierFromRange(modifiers, hoverDate, endDate, 'hovered-span');\n    }\n\n    if (startDate && (0, _isSameDay[\"default\"])(day, startDate)) {\n      var startSpan = startDate.clone().add(1, 'day');\n\n      var _endSpan4 = startDate.clone().add(minimumNights + 1, 'days');\n\n      modifiers = this.deleteModifierFromRange(modifiers, startSpan, _endSpan4, 'after-hovered-start');\n    }\n\n    if (!this.isBlocked(hoverDate)) {\n      var minNightsForHoverDate = getMinNightsForHoverDate(hoverDate);\n\n      if (minNightsForHoverDate > 0 && focusedInput === _constants.START_DATE) {\n        modifiers = this.deleteModifierFromRange(modifiers, hoverDate.clone().add(1, 'days'), hoverDate.clone().add(minNightsForHoverDate, 'days'), 'hovered-start-blocked-minimum-nights');\n        modifiers = this.deleteModifier(modifiers, hoverDate.clone().add(minNightsForHoverDate, 'days'), 'hovered-start-first-possible-end');\n      }\n    }\n\n    this.setState({\n      hoverDate: null,\n      visibleDays: (0, _objectSpread10[\"default\"])({}, visibleDays, {}, modifiers)\n    });\n  };\n\n  _proto.onPrevMonthClick = function onPrevMonthClick() {\n    var _this$props6 = this.props,\n        enableOutsideDays = _this$props6.enableOutsideDays,\n        maxDate = _this$props6.maxDate,\n        minDate = _this$props6.minDate,\n        numberOfMonths = _this$props6.numberOfMonths,\n        onPrevMonthClick = _this$props6.onPrevMonthClick;\n    var _this$state3 = this.state,\n        currentMonth = _this$state3.currentMonth,\n        visibleDays = _this$state3.visibleDays;\n    var newVisibleDays = {};\n    Object.keys(visibleDays).sort().slice(0, numberOfMonths + 1).forEach(function (month) {\n      newVisibleDays[month] = visibleDays[month];\n    });\n    var prevMonth = currentMonth.clone().subtract(2, 'months');\n    var prevMonthVisibleDays = (0, _getVisibleDays[\"default\"])(prevMonth, 1, enableOutsideDays, true);\n    var newCurrentMonth = currentMonth.clone().subtract(1, 'month');\n    this.setState({\n      currentMonth: newCurrentMonth,\n      disablePrev: this.shouldDisableMonthNavigation(minDate, newCurrentMonth),\n      disableNext: this.shouldDisableMonthNavigation(maxDate, newCurrentMonth),\n      visibleDays: (0, _objectSpread10[\"default\"])({}, newVisibleDays, {}, this.getModifiers(prevMonthVisibleDays))\n    }, function () {\n      onPrevMonthClick(newCurrentMonth.clone());\n    });\n  };\n\n  _proto.onNextMonthClick = function onNextMonthClick() {\n    var _this$props7 = this.props,\n        enableOutsideDays = _this$props7.enableOutsideDays,\n        maxDate = _this$props7.maxDate,\n        minDate = _this$props7.minDate,\n        numberOfMonths = _this$props7.numberOfMonths,\n        onNextMonthClick = _this$props7.onNextMonthClick;\n    var _this$state4 = this.state,\n        currentMonth = _this$state4.currentMonth,\n        visibleDays = _this$state4.visibleDays;\n    var newVisibleDays = {};\n    Object.keys(visibleDays).sort().slice(1).forEach(function (month) {\n      newVisibleDays[month] = visibleDays[month];\n    });\n    var nextMonth = currentMonth.clone().add(numberOfMonths + 1, 'month');\n    var nextMonthVisibleDays = (0, _getVisibleDays[\"default\"])(nextMonth, 1, enableOutsideDays, true);\n    var newCurrentMonth = currentMonth.clone().add(1, 'month');\n    this.setState({\n      currentMonth: newCurrentMonth,\n      disablePrev: this.shouldDisableMonthNavigation(minDate, newCurrentMonth),\n      disableNext: this.shouldDisableMonthNavigation(maxDate, newCurrentMonth),\n      visibleDays: (0, _objectSpread10[\"default\"])({}, newVisibleDays, {}, this.getModifiers(nextMonthVisibleDays))\n    }, function () {\n      onNextMonthClick(newCurrentMonth.clone());\n    });\n  };\n\n  _proto.onMonthChange = function onMonthChange(newMonth) {\n    var _this$props8 = this.props,\n        numberOfMonths = _this$props8.numberOfMonths,\n        enableOutsideDays = _this$props8.enableOutsideDays,\n        orientation = _this$props8.orientation;\n    var withoutTransitionMonths = orientation === _constants.VERTICAL_SCROLLABLE;\n    var newVisibleDays = (0, _getVisibleDays[\"default\"])(newMonth, numberOfMonths, enableOutsideDays, withoutTransitionMonths);\n    this.setState({\n      currentMonth: newMonth.clone(),\n      visibleDays: this.getModifiers(newVisibleDays)\n    });\n  };\n\n  _proto.onYearChange = function onYearChange(newMonth) {\n    var _this$props9 = this.props,\n        numberOfMonths = _this$props9.numberOfMonths,\n        enableOutsideDays = _this$props9.enableOutsideDays,\n        orientation = _this$props9.orientation;\n    var withoutTransitionMonths = orientation === _constants.VERTICAL_SCROLLABLE;\n    var newVisibleDays = (0, _getVisibleDays[\"default\"])(newMonth, numberOfMonths, enableOutsideDays, withoutTransitionMonths);\n    this.setState({\n      currentMonth: newMonth.clone(),\n      visibleDays: this.getModifiers(newVisibleDays)\n    });\n  };\n\n  _proto.onMultiplyScrollableMonths = function onMultiplyScrollableMonths() {\n    var _this$props10 = this.props,\n        numberOfMonths = _this$props10.numberOfMonths,\n        enableOutsideDays = _this$props10.enableOutsideDays;\n    var _this$state5 = this.state,\n        currentMonth = _this$state5.currentMonth,\n        visibleDays = _this$state5.visibleDays;\n    var numberOfVisibleMonths = Object.keys(visibleDays).length;\n    var nextMonth = currentMonth.clone().add(numberOfVisibleMonths, 'month');\n    var newVisibleDays = (0, _getVisibleDays[\"default\"])(nextMonth, numberOfMonths, enableOutsideDays, true);\n    this.setState({\n      visibleDays: (0, _objectSpread10[\"default\"])({}, visibleDays, {}, this.getModifiers(newVisibleDays))\n    });\n  };\n\n  _proto.getFirstFocusableDay = function getFirstFocusableDay(newMonth) {\n    var _this3 = this;\n\n    var _this$props11 = this.props,\n        startDate = _this$props11.startDate,\n        endDate = _this$props11.endDate,\n        focusedInput = _this$props11.focusedInput,\n        minimumNights = _this$props11.minimumNights,\n        numberOfMonths = _this$props11.numberOfMonths;\n    var focusedDate = newMonth.clone().startOf('month');\n\n    if (focusedInput === _constants.START_DATE && startDate) {\n      focusedDate = startDate.clone();\n    } else if (focusedInput === _constants.END_DATE && !endDate && startDate) {\n      focusedDate = startDate.clone().add(minimumNights, 'days');\n    } else if (focusedInput === _constants.END_DATE && endDate) {\n      focusedDate = endDate.clone();\n    }\n\n    if (this.isBlocked(focusedDate)) {\n      var days = [];\n      var lastVisibleDay = newMonth.clone().add(numberOfMonths - 1, 'months').endOf('month');\n      var currentDay = focusedDate.clone();\n\n      while (!(0, _isAfterDay[\"default\"])(currentDay, lastVisibleDay)) {\n        currentDay = currentDay.clone().add(1, 'day');\n        days.push(currentDay);\n      }\n\n      var viableDays = days.filter(function (day) {\n        return !_this3.isBlocked(day);\n      });\n\n      if (viableDays.length > 0) {\n        var _viableDays = (0, _slicedToArray2[\"default\"])(viableDays, 1);\n\n        focusedDate = _viableDays[0];\n      }\n    }\n\n    return focusedDate;\n  };\n\n  _proto.getModifiers = function getModifiers(visibleDays) {\n    var _this4 = this;\n\n    var modifiers = {};\n    Object.keys(visibleDays).forEach(function (month) {\n      modifiers[month] = {};\n      visibleDays[month].forEach(function (day) {\n        modifiers[month][(0, _toISODateString[\"default\"])(day)] = _this4.getModifiersForDay(day);\n      });\n    });\n    return modifiers;\n  };\n\n  _proto.getModifiersForDay = function getModifiersForDay(day) {\n    var _this5 = this;\n\n    return new Set(Object.keys(this.modifiers).filter(function (modifier) {\n      return _this5.modifiers[modifier](day);\n    }));\n  };\n\n  _proto.getStateForNewMonth = function getStateForNewMonth(nextProps) {\n    var _this6 = this;\n\n    var initialVisibleMonth = nextProps.initialVisibleMonth,\n        numberOfMonths = nextProps.numberOfMonths,\n        enableOutsideDays = nextProps.enableOutsideDays,\n        orientation = nextProps.orientation,\n        startDate = nextProps.startDate;\n    var initialVisibleMonthThunk = initialVisibleMonth || (startDate ? function () {\n      return startDate;\n    } : function () {\n      return _this6.today;\n    });\n    var currentMonth = initialVisibleMonthThunk();\n    var withoutTransitionMonths = orientation === _constants.VERTICAL_SCROLLABLE;\n    var visibleDays = this.getModifiers((0, _getVisibleDays[\"default\"])(currentMonth, numberOfMonths, enableOutsideDays, withoutTransitionMonths));\n    return {\n      currentMonth: currentMonth,\n      visibleDays: visibleDays\n    };\n  };\n\n  _proto.shouldDisableMonthNavigation = function shouldDisableMonthNavigation(date, visibleMonth) {\n    if (!date) return false;\n    var _this$props12 = this.props,\n        numberOfMonths = _this$props12.numberOfMonths,\n        enableOutsideDays = _this$props12.enableOutsideDays;\n    return (0, _isDayVisible[\"default\"])(date, visibleMonth, numberOfMonths, enableOutsideDays);\n  };\n\n  _proto.addModifier = function addModifier(updatedDays, day, modifier) {\n    return (0, _modifiers.addModifier)(updatedDays, day, modifier, this.props, this.state);\n  };\n\n  _proto.addModifierToRange = function addModifierToRange(updatedDays, start, end, modifier) {\n    var days = updatedDays;\n    var spanStart = start.clone();\n\n    while ((0, _isBeforeDay[\"default\"])(spanStart, end)) {\n      days = this.addModifier(days, spanStart, modifier);\n      spanStart = spanStart.clone().add(1, 'day');\n    }\n\n    return days;\n  };\n\n  _proto.deleteModifier = function deleteModifier(updatedDays, day, modifier) {\n    return (0, _modifiers.deleteModifier)(updatedDays, day, modifier, this.props, this.state);\n  };\n\n  _proto.deleteModifierFromRange = function deleteModifierFromRange(updatedDays, start, end, modifier) {\n    var days = updatedDays;\n    var spanStart = start.clone();\n\n    while ((0, _isBeforeDay[\"default\"])(spanStart, end)) {\n      days = this.deleteModifier(days, spanStart, modifier);\n      spanStart = spanStart.clone().add(1, 'day');\n    }\n\n    return days;\n  };\n\n  _proto.doesNotMeetMinimumNights = function doesNotMeetMinimumNights(day) {\n    var _this$props13 = this.props,\n        startDate = _this$props13.startDate,\n        isOutsideRange = _this$props13.isOutsideRange,\n        focusedInput = _this$props13.focusedInput,\n        minimumNights = _this$props13.minimumNights;\n    if (focusedInput !== _constants.END_DATE) return false;\n\n    if (startDate) {\n      var dayDiff = day.diff(startDate.clone().startOf('day').hour(12), 'days');\n      return dayDiff < minimumNights && dayDiff >= 0;\n    }\n\n    return isOutsideRange((0, _moment[\"default\"])(day).subtract(minimumNights, 'days'));\n  };\n\n  _proto.doesNotMeetMinNightsForHoveredStartDate = function doesNotMeetMinNightsForHoveredStartDate(day, hoverDate) {\n    var _this$props14 = this.props,\n        focusedInput = _this$props14.focusedInput,\n        getMinNightsForHoverDate = _this$props14.getMinNightsForHoverDate;\n    if (focusedInput !== _constants.END_DATE) return false;\n\n    if (hoverDate && !this.isBlocked(hoverDate)) {\n      var minNights = getMinNightsForHoverDate(hoverDate);\n      var dayDiff = day.diff(hoverDate.clone().startOf('day').hour(12), 'days');\n      return dayDiff < minNights && dayDiff >= 0;\n    }\n\n    return false;\n  };\n\n  _proto.isDayAfterHoveredStartDate = function isDayAfterHoveredStartDate(day) {\n    var _this$props15 = this.props,\n        startDate = _this$props15.startDate,\n        endDate = _this$props15.endDate,\n        minimumNights = _this$props15.minimumNights;\n\n    var _ref2 = this.state || {},\n        hoverDate = _ref2.hoverDate;\n\n    return !!startDate && !endDate && !this.isBlocked(day) && (0, _isNextDay[\"default\"])(hoverDate, day) && minimumNights > 0 && (0, _isSameDay[\"default\"])(hoverDate, startDate);\n  };\n\n  _proto.isEndDate = function isEndDate(day) {\n    var endDate = this.props.endDate;\n    return (0, _isSameDay[\"default\"])(day, endDate);\n  };\n\n  _proto.isHovered = function isHovered(day) {\n    var _ref3 = this.state || {},\n        hoverDate = _ref3.hoverDate;\n\n    var focusedInput = this.props.focusedInput;\n    return !!focusedInput && (0, _isSameDay[\"default\"])(day, hoverDate);\n  };\n\n  _proto.isInHoveredSpan = function isInHoveredSpan(day) {\n    var _this$props16 = this.props,\n        startDate = _this$props16.startDate,\n        endDate = _this$props16.endDate;\n\n    var _ref4 = this.state || {},\n        hoverDate = _ref4.hoverDate;\n\n    var isForwardRange = !!startDate && !endDate && (day.isBetween(startDate, hoverDate) || (0, _isSameDay[\"default\"])(hoverDate, day));\n    var isBackwardRange = !!endDate && !startDate && (day.isBetween(hoverDate, endDate) || (0, _isSameDay[\"default\"])(hoverDate, day));\n    var isValidDayHovered = hoverDate && !this.isBlocked(hoverDate);\n    return (isForwardRange || isBackwardRange) && isValidDayHovered;\n  };\n\n  _proto.isInSelectedSpan = function isInSelectedSpan(day) {\n    var _this$props17 = this.props,\n        startDate = _this$props17.startDate,\n        endDate = _this$props17.endDate;\n    return day.isBetween(startDate, endDate, 'days');\n  };\n\n  _proto.isLastInRange = function isLastInRange(day) {\n    var endDate = this.props.endDate;\n    return this.isInSelectedSpan(day) && (0, _isNextDay[\"default\"])(day, endDate);\n  };\n\n  _proto.isStartDate = function isStartDate(day) {\n    var startDate = this.props.startDate;\n    return (0, _isSameDay[\"default\"])(day, startDate);\n  };\n\n  _proto.isBlocked = function isBlocked(day) {\n    var _this$props18 = this.props,\n        isDayBlocked = _this$props18.isDayBlocked,\n        isOutsideRange = _this$props18.isOutsideRange;\n    return isDayBlocked(day) || isOutsideRange(day) || this.doesNotMeetMinimumNights(day);\n  };\n\n  _proto.isToday = function isToday(day) {\n    return (0, _isSameDay[\"default\"])(day, this.today);\n  };\n\n  _proto.isFirstDayOfWeek = function isFirstDayOfWeek(day) {\n    var firstDayOfWeek = this.props.firstDayOfWeek;\n    return day.day() === (firstDayOfWeek || _moment[\"default\"].localeData().firstDayOfWeek());\n  };\n\n  _proto.isLastDayOfWeek = function isLastDayOfWeek(day) {\n    var firstDayOfWeek = this.props.firstDayOfWeek;\n    return day.day() === ((firstDayOfWeek || _moment[\"default\"].localeData().firstDayOfWeek()) + 6) % 7;\n  };\n\n  _proto.isFirstPossibleEndDateForHoveredStartDate = function isFirstPossibleEndDateForHoveredStartDate(day, hoverDate) {\n    var _this$props19 = this.props,\n        focusedInput = _this$props19.focusedInput,\n        getMinNightsForHoverDate = _this$props19.getMinNightsForHoverDate;\n    if (focusedInput !== _constants.END_DATE || !hoverDate || this.isBlocked(hoverDate)) return false;\n    var minNights = getMinNightsForHoverDate(hoverDate);\n    var firstAvailableEndDate = hoverDate.clone().add(minNights, 'days');\n    return (0, _isSameDay[\"default\"])(day, firstAvailableEndDate);\n  };\n\n  _proto.render = function render() {\n    var _this$props20 = this.props,\n        numberOfMonths = _this$props20.numberOfMonths,\n        orientation = _this$props20.orientation,\n        monthFormat = _this$props20.monthFormat,\n        renderMonthText = _this$props20.renderMonthText,\n        navPrev = _this$props20.navPrev,\n        navNext = _this$props20.navNext,\n        noNavButtons = _this$props20.noNavButtons,\n        onOutsideClick = _this$props20.onOutsideClick,\n        withPortal = _this$props20.withPortal,\n        enableOutsideDays = _this$props20.enableOutsideDays,\n        firstDayOfWeek = _this$props20.firstDayOfWeek,\n        renderKeyboardShortcutsButton = _this$props20.renderKeyboardShortcutsButton,\n        hideKeyboardShortcutsPanel = _this$props20.hideKeyboardShortcutsPanel,\n        daySize = _this$props20.daySize,\n        focusedInput = _this$props20.focusedInput,\n        renderCalendarDay = _this$props20.renderCalendarDay,\n        renderDayContents = _this$props20.renderDayContents,\n        renderCalendarInfo = _this$props20.renderCalendarInfo,\n        renderMonthElement = _this$props20.renderMonthElement,\n        calendarInfoPosition = _this$props20.calendarInfoPosition,\n        onBlur = _this$props20.onBlur,\n        onShiftTab = _this$props20.onShiftTab,\n        onTab = _this$props20.onTab,\n        isFocused = _this$props20.isFocused,\n        showKeyboardShortcuts = _this$props20.showKeyboardShortcuts,\n        isRTL = _this$props20.isRTL,\n        weekDayFormat = _this$props20.weekDayFormat,\n        dayAriaLabelFormat = _this$props20.dayAriaLabelFormat,\n        verticalHeight = _this$props20.verticalHeight,\n        noBorder = _this$props20.noBorder,\n        transitionDuration = _this$props20.transitionDuration,\n        verticalBorderSpacing = _this$props20.verticalBorderSpacing,\n        horizontalMonthPadding = _this$props20.horizontalMonthPadding;\n    var _this$state6 = this.state,\n        currentMonth = _this$state6.currentMonth,\n        phrases = _this$state6.phrases,\n        visibleDays = _this$state6.visibleDays,\n        disablePrev = _this$state6.disablePrev,\n        disableNext = _this$state6.disableNext;\n    return _react[\"default\"].createElement(_DayPicker[\"default\"], {\n      orientation: orientation,\n      enableOutsideDays: enableOutsideDays,\n      modifiers: visibleDays,\n      numberOfMonths: numberOfMonths,\n      onDayClick: this.onDayClick,\n      onDayMouseEnter: this.onDayMouseEnter,\n      onDayMouseLeave: this.onDayMouseLeave,\n      onPrevMonthClick: this.onPrevMonthClick,\n      onNextMonthClick: this.onNextMonthClick,\n      onMonthChange: this.onMonthChange,\n      onTab: onTab,\n      onShiftTab: onShiftTab,\n      onYearChange: this.onYearChange,\n      onMultiplyScrollableMonths: this.onMultiplyScrollableMonths,\n      monthFormat: monthFormat,\n      renderMonthText: renderMonthText,\n      withPortal: withPortal,\n      hidden: !focusedInput,\n      initialVisibleMonth: function initialVisibleMonth() {\n        return currentMonth;\n      },\n      daySize: daySize,\n      onOutsideClick: onOutsideClick,\n      disablePrev: disablePrev,\n      disableNext: disableNext,\n      navPrev: navPrev,\n      navNext: navNext,\n      noNavButtons: noNavButtons,\n      renderCalendarDay: renderCalendarDay,\n      renderDayContents: renderDayContents,\n      renderCalendarInfo: renderCalendarInfo,\n      renderMonthElement: renderMonthElement,\n      renderKeyboardShortcutsButton: renderKeyboardShortcutsButton,\n      calendarInfoPosition: calendarInfoPosition,\n      firstDayOfWeek: firstDayOfWeek,\n      hideKeyboardShortcutsPanel: hideKeyboardShortcutsPanel,\n      isFocused: isFocused,\n      getFirstFocusableDay: this.getFirstFocusableDay,\n      onBlur: onBlur,\n      showKeyboardShortcuts: showKeyboardShortcuts,\n      phrases: phrases,\n      isRTL: isRTL,\n      weekDayFormat: weekDayFormat,\n      dayAriaLabelFormat: dayAriaLabelFormat,\n      verticalHeight: verticalHeight,\n      verticalBorderSpacing: verticalBorderSpacing,\n      noBorder: noBorder,\n      transitionDuration: transitionDuration,\n      horizontalMonthPadding: horizontalMonthPadding\n    });\n  };\n\n  return DayPickerRangeController;\n}(_react[\"default\"].PureComponent || _react[\"default\"].Component);\n\nexports[\"default\"] = DayPickerRangeController;\nDayPickerRangeController.propTypes = process.env.NODE_ENV !== \"production\" ? propTypes : {};\nDayPickerRangeController.defaultProps = defaultProps;"]},"metadata":{},"sourceType":"script"}