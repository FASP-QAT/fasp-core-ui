{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nimport { useCallback, useState, useRef } from 'react';\nimport * as Utils from './utils';\nexport default function useUncontrolled(props, config) {\n  return Object.keys(config).reduce(function (result, fieldName) {\n    var _extends2;\n\n    var defaultValue = result[Utils.defaultKey(fieldName)],\n        propsValue = result[fieldName],\n        rest = _objectWithoutPropertiesLoose(result, [Utils.defaultKey(fieldName), fieldName].map(_toPropertyKey));\n\n    var handlerName = config[fieldName];\n    var prevProps = useRef({});\n\n    var _useState = useState(defaultValue),\n        stateValue = _useState[0],\n        setState = _useState[1];\n\n    var isProp = Utils.isProp(props, fieldName);\n    var wasProp = Utils.isProp(prevProps.current, fieldName);\n    prevProps.current = props;\n    /**\n     * If a prop switches from controlled to Uncontrolled\n     * reset its value to the defaultValue\n     */\n\n    if (!isProp && wasProp) {\n      setState(defaultValue);\n    }\n\n    var propsHandler = props[handlerName];\n    var handler = useCallback(function (value) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (propsHandler) propsHandler.apply(void 0, [value].concat(args));\n      setState(value);\n    }, [setState, propsHandler]);\n    return _extends({}, rest, (_extends2 = {}, _extends2[fieldName] = isProp ? propsValue : stateValue, _extends2[handlerName] = handler, _extends2));\n  }, props);\n}","map":{"version":3,"sources":["/home/altius/Documents/FASP/fasp-core-ui/node_modules/uncontrollable/esm/hook.js"],"names":["_extends","_objectWithoutPropertiesLoose","_toPropertyKey","arg","key","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","useCallback","useState","useRef","Utils","useUncontrolled","props","config","Object","keys","reduce","result","fieldName","_extends2","defaultValue","defaultKey","propsValue","rest","map","handlerName","prevProps","_useState","stateValue","setState","isProp","wasProp","current","propsHandler","handler","value","_len","arguments","length","args","Array","_key","apply","concat"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nimport { useCallback, useState, useRef } from 'react';\nimport * as Utils from './utils';\nexport default function useUncontrolled(props, config) {\n  return Object.keys(config).reduce(function (result, fieldName) {\n    var _extends2;\n\n    var defaultValue = result[Utils.defaultKey(fieldName)],\n        propsValue = result[fieldName],\n        rest = _objectWithoutPropertiesLoose(result, [Utils.defaultKey(fieldName), fieldName].map(_toPropertyKey));\n\n    var handlerName = config[fieldName];\n    var prevProps = useRef({});\n\n    var _useState = useState(defaultValue),\n        stateValue = _useState[0],\n        setState = _useState[1];\n\n    var isProp = Utils.isProp(props, fieldName);\n    var wasProp = Utils.isProp(prevProps.current, fieldName);\n    prevProps.current = props;\n    /**\n     * If a prop switches from controlled to Uncontrolled\n     * reset its value to the defaultValue\n     */\n\n    if (!isProp && wasProp) {\n      setState(defaultValue);\n    }\n\n    var propsHandler = props[handlerName];\n    var handler = useCallback(function (value) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (propsHandler) propsHandler.apply(void 0, [value].concat(args));\n      setState(value);\n    }, [setState, propsHandler]);\n    return _extends({}, rest, (_extends2 = {}, _extends2[fieldName] = isProp ? propsValue : stateValue, _extends2[handlerName] = handler, _extends2));\n  }, props);\n}"]},"metadata":{},"sourceType":"module"}