{"ast":null,"code":"import _defineProperty from \"/home/altius/NodeJs/fasp-core-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/altius/NodeJs/fasp-core-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/altius/NodeJs/fasp-core-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/altius/NodeJs/fasp-core-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/altius/NodeJs/fasp-core-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/altius/NodeJs/fasp-core-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/altius/NodeJs/fasp-core-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/altius/NodeJs/fasp-core-ui/src/views/Translations/LabelTranslations.js\";\nimport React from \"react\";\nimport ReactDOM from 'react-dom';\nimport jexcel from 'jexcel';\nimport \"../ProductCategory/style.css\";\nimport \"../../../node_modules/jexcel/dist/jexcel.css\";\nimport { Card, CardBody, CardHeader, FormGroup, CardFooter, Button, Col } from 'reactstrap';\nimport i18n from '../../i18n';\nimport AuthenticationService from '../common/AuthenticationService.js';\nimport LabelsService from '../../api/LabelService.js';\n\nvar DatabaseTranslations = /*#__PURE__*/function (_React$Component) {\n  _inherits(DatabaseTranslations, _React$Component);\n\n  function DatabaseTranslations(props) {\n    var _this;\n\n    _classCallCheck(this, DatabaseTranslations);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DatabaseTranslations).call(this, props));\n\n    _this.saveData = function () {\n      var _this2 = this;\n\n      var labelList = this.state.labelList;\n      var tableJson = this.el.getRowData(this.state.rowId);\n      var mapOfLastRow = new Map(Object.entries(tableJson));\n      var jsonOfLastRow = {\n        labelId: mapOfLastRow.get(\"0\"),\n        label_en: mapOfLastRow.get(\"2\"),\n        label_sp: mapOfLastRow.get(\"5\"),\n        label_fr: mapOfLastRow.get(\"3\"),\n        label_pr: mapOfLastRow.get(\"4\"),\n        languageId: mapOfLastRow.get(\"6\")\n      };\n      labelList[this.state.rowId] = JSON.stringify(jsonOfLastRow);\n      this.setState({\n        labelList: labelList\n      });\n\n      if (JSON.stringify(this.el.getComments()).length == 2) {\n        AuthenticationService.setupAxiosInterceptors();\n        var json = this.state.labelList;\n        LabelsService.saveStaticLabels(json).then(function (response) {\n          _this2.props.history.push(\"/dashboard/\".concat(response.data.messageCode));\n        }).catch(function (error) {\n          if (error.message === \"Network Error\") {\n            _this2.setState({\n              message: error.message\n            });\n          } else {\n            switch (error.response ? error.response.status : \"\") {\n              case 500:\n              case 401:\n              case 404:\n              case 406:\n              case 412:\n                _this2.setState({\n                  message: error.response.data.messageCode\n                });\n\n                break;\n\n              default:\n                _this2.setState({\n                  message: 'static.unkownError'\n                });\n\n                break;\n            }\n          }\n        });\n      } else {\n        alert(\"\".concat(i18n.t('static.label.validData')));\n      }\n    };\n\n    _this.changed = function (instance, cell, x, y, value) {\n      if (x == 2) {\n        var col = \"C\".concat(parseInt(y) + 1);\n        this.el.setStyle(col, \"background-color\", \"transparent\");\n        this.el.setStyle(col, \"background-color\", \"yellow\");\n\n        if (value == \"\") {\n          this.el.setComments(col, \"\".concat(i18n.t('static.label.fieldRequired')));\n        } else {\n          this.el.setComments(col, \"\");\n        }\n      } else if (x == 3) {\n        var col = \"D\".concat(parseInt(y) + 1);\n        this.el.setStyle(col, \"background-color\", \"transparent\");\n        this.el.setStyle(col, \"background-color\", \"yellow\");\n      } else if (x == 4) {\n        var col = \"E\".concat(parseInt(y) + 1);\n        this.el.setStyle(col, \"background-color\", \"transparent\");\n        this.el.setStyle(col, \"background-color\", \"yellow\");\n      } else if (x == 5) {\n        var col = \"F\".concat(parseInt(y) + 1);\n        this.el.setStyle(col, \"background-color\", \"transparent\");\n        this.el.setStyle(col, \"background-color\", \"yellow\");\n      }\n\n      var labelList = this.state.labelList;\n      var tableJson = this.el.getRowData(y);\n      var map = new Map(Object.entries(tableJson));\n      var json = {\n        labelId: map.get(\"0\"),\n        label_en: map.get(\"2\"),\n        label_sp: map.get(\"5\"),\n        label_fr: map.get(\"3\"),\n        label_pr: map.get(\"4\"),\n        languageId: map.get(\"6\")\n      };\n      labelList[y] = JSON.stringify(json);\n      this.setState({\n        labelList: labelList\n      });\n    }.bind(_assertThisInitialized(_this));\n\n    _this.editStart = function (instance, cell, x, y, value) {\n      this.setState({\n        rowId: y\n      });\n    }.bind(_assertThisInitialized(_this));\n\n    _this.options = props.options;\n    _this.state = {\n      changedFlag: [],\n      labelList: [],\n      rowId: 1\n    };\n    _this.saveData = _this.saveData.bind(_assertThisInitialized(_this));\n    _this.cancelClicked = _this.cancelClicked.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(DatabaseTranslations, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      AuthenticationService.setupAxiosInterceptors();\n      LabelsService.getStaticLabelsList().then(function (response) {\n        var json = response.data;\n        var data = [];\n        var label = [];\n\n        for (var i = 0; i < json.length; i++) {\n          data = [];\n          data[0] = json[i].labelId; // A\n\n          data[1] = json[i].labelCode; // A\n\n          data[2] = json[i].label_en; //B\n\n          data[3] = json[i].label_fr; //C\n\n          data[4] = json[i].label_pr; //D\n\n          data[5] = json[i].label_sp; //E\n\n          data[6] = json[i].languageId;\n          label[i] = data;\n        }\n\n        var options = _defineProperty({\n          data: label,\n          colHeaders: [\"\".concat(i18n.t('static.translation.labelId')), \"\".concat(i18n.t('static.translation.labelCode')), \"\".concat(i18n.t('static.translation.english')), \"\".concat(i18n.t('static.translation.french')), \"\".concat(i18n.t('static.translation.pourtegese')), \"\".concat(i18n.t('static.translation.spanish')), \"Language Id\"],\n          colWidths: [80, 80, 80, 80, 80],\n          columns: [{\n            type: 'hidden'\n          }, {\n            type: 'text',\n            readOnly: true\n          }, {\n            type: 'text'\n          }, {\n            type: 'text'\n          }, {\n            type: 'text'\n          }, {\n            type: 'text'\n          }, {\n            type: 'hidden'\n          }],\n          pagination: 25,\n          search: true,\n          columnSorting: true,\n          tableOverflow: true,\n          wordWrap: true,\n          paginationOptions: [25, 50, 75, 100],\n          allowInsertColumn: false,\n          allowManualInsertColumn: false,\n          onchange: _this3.changed,\n          oneditionstart: _this3.editStart,\n          allowDeleteRow: false\n        }, \"tableOverflow\", false);\n\n        _this3.el = jexcel(ReactDOM.findDOMNode(_this3).children[1].children[1], options);\n      }).catch(function (error) {\n        if (error.message === \"Network Error\") {\n          _this3.setState({\n            message: error.message\n          });\n        } else {\n          switch (error.response ? error.response.status : \"\") {\n            case 500:\n            case 401:\n            case 404:\n            case 406:\n            case 412:\n              _this3.setState({\n                message: error.response.data.messageCode\n              });\n\n              break;\n\n            default:\n              _this3.setState({\n                message: 'static.unkownError'\n              });\n\n              break;\n          }\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(React.Fragment, null, React.createElement(Col, {\n        xs: \"12\",\n        sm: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, i18n.t(this.state.message)), React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, i18n.t('static.label.labelTranslations'))), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), React.createElement(CardFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"button\",\n        size: \"sm\",\n        color: \"danger\",\n        className: \"float-right mr-1\",\n        onClick: this.cancelClicked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-times\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }), \" \", i18n.t('static.common.cancel')), React.createElement(Button, {\n        type: \"button\",\n        size: \"sm\",\n        color: \"success\",\n        className: \"float-right mr-1\",\n        onClick: function onClick() {\n          return _this4.saveData();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-check\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }), i18n.t('static.common.submit'), \" \"), \"\\xA0\")))));\n    }\n  }, {\n    key: \"cancelClicked\",\n    value: function cancelClicked() {\n      this.props.history.push(\"/dashboard/\".concat(i18n.t('static.actionCancelled')));\n    }\n  }]);\n\n  return DatabaseTranslations;\n}(React.Component);\n\nexport { DatabaseTranslations as default };","map":{"version":3,"sources":["/home/altius/NodeJs/fasp-core-ui/src/views/Translations/LabelTranslations.js"],"names":["React","ReactDOM","jexcel","Card","CardBody","CardHeader","FormGroup","CardFooter","Button","Col","i18n","AuthenticationService","LabelsService","DatabaseTranslations","props","saveData","labelList","state","tableJson","el","getRowData","rowId","mapOfLastRow","Map","Object","entries","jsonOfLastRow","labelId","get","label_en","label_sp","label_fr","label_pr","languageId","JSON","stringify","setState","getComments","length","setupAxiosInterceptors","json","saveStaticLabels","then","response","history","push","data","messageCode","catch","error","message","status","alert","t","changed","instance","cell","x","y","value","col","concat","parseInt","setStyle","setComments","map","bind","editStart","options","changedFlag","cancelClicked","getStaticLabelsList","label","i","labelCode","colHeaders","colWidths","columns","type","readOnly","pagination","search","columnSorting","tableOverflow","wordWrap","paginationOptions","allowInsertColumn","allowManualInsertColumn","onchange","oneditionstart","allowDeleteRow","findDOMNode","children","Component"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,OAAO,8BAAP;AACA,OAAO,8CAAP;AACA,SACIC,IADJ,EACUC,QADV,EACoBC,UADpB,EACgCC,SADhC,EAEIC,UAFJ,EAEgBC,MAFhB,EAEwBC,GAFxB,QAGO,YAHP;AAIA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,qBAAP,MAAkC,oCAAlC;AACA,OAAOC,aAAP,MAA0B,2BAA1B;;IAEqBC,oB;;;AAEjB,gCAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8FAAMA,KAAN;;AADe,UAuFnBC,QAvFmB,GAuFR,YAAY;AAAA;;AACnB,UAAIC,SAAS,GAAG,KAAKC,KAAL,CAAWD,SAA3B;AACA,UAAIE,SAAS,GAAG,KAAKC,EAAL,CAAQC,UAAR,CAAmB,KAAKH,KAAL,CAAWI,KAA9B,CAAhB;AACA,UAAIC,YAAY,GAAG,IAAIC,GAAJ,CAAQC,MAAM,CAACC,OAAP,CAAeP,SAAf,CAAR,CAAnB;AACA,UAAIQ,aAAa,GAAG;AAChBC,QAAAA,OAAO,EAAEL,YAAY,CAACM,GAAb,CAAiB,GAAjB,CADO;AAEhBC,QAAAA,QAAQ,EAAEP,YAAY,CAACM,GAAb,CAAiB,GAAjB,CAFM;AAGhBE,QAAAA,QAAQ,EAAER,YAAY,CAACM,GAAb,CAAiB,GAAjB,CAHM;AAIhBG,QAAAA,QAAQ,EAAET,YAAY,CAACM,GAAb,CAAiB,GAAjB,CAJM;AAKhBI,QAAAA,QAAQ,EAAEV,YAAY,CAACM,GAAb,CAAiB,GAAjB,CALM;AAMhBK,QAAAA,UAAU,EAACX,YAAY,CAACM,GAAb,CAAiB,GAAjB;AANK,OAApB;AAQAZ,MAAAA,SAAS,CAAC,KAAKC,KAAL,CAAWI,KAAZ,CAAT,GAA+Ba,IAAI,CAACC,SAAL,CAAeT,aAAf,CAA/B;AACA,WAAKU,QAAL,CAAc;AACVpB,QAAAA,SAAS,EAAEA;AADD,OAAd;;AAGA,UAAIkB,IAAI,CAACC,SAAL,CAAe,KAAKhB,EAAL,CAAQkB,WAAR,EAAf,EAAsCC,MAAtC,IAAgD,CAApD,EAAuD;AACnD3B,QAAAA,qBAAqB,CAAC4B,sBAAtB;AACA,YAAIC,IAAI,GAAG,KAAKvB,KAAL,CAAWD,SAAtB;AACAJ,QAAAA,aAAa,CAAC6B,gBAAd,CAA+BD,IAA/B,EAAqCE,IAArC,CAA0C,UAAAC,QAAQ,EAAI;AAClD,UAAA,MAAI,CAAC7B,KAAL,CAAW8B,OAAX,CAAmBC,IAAnB,sBAAsCF,QAAQ,CAACG,IAAT,CAAcC,WAApD;AACH,SAFD,EAEGC,KAFH,CAGI,UAAAC,KAAK,EAAI;AACL,cAAIA,KAAK,CAACC,OAAN,KAAkB,eAAtB,EAAuC;AACnC,YAAA,MAAI,CAACd,QAAL,CAAc;AAAEc,cAAAA,OAAO,EAAED,KAAK,CAACC;AAAjB,aAAd;AACH,WAFD,MAEO;AACH,oBAAQD,KAAK,CAACN,QAAN,GAAiBM,KAAK,CAACN,QAAN,CAAeQ,MAAhC,GAAyC,EAAjD;AACI,mBAAK,GAAL;AACA,mBAAK,GAAL;AACA,mBAAK,GAAL;AACA,mBAAK,GAAL;AACA,mBAAK,GAAL;AACI,gBAAA,MAAI,CAACf,QAAL,CAAc;AAAEc,kBAAAA,OAAO,EAAED,KAAK,CAACN,QAAN,CAAeG,IAAf,CAAoBC;AAA/B,iBAAd;;AACA;;AACJ;AACI,gBAAA,MAAI,CAACX,QAAL,CAAc;AAAEc,kBAAAA,OAAO,EAAE;AAAX,iBAAd;;AACA;AAVR;AAYH;AACJ,SApBL;AAsBH,OAzBD,MAyBO;AACHE,QAAAA,KAAK,WAAI1C,IAAI,CAAC2C,CAAL,CAAO,wBAAP,CAAJ,EAAL;AACH;AACJ,KAnIkB;;AAAA,UAiKnBC,OAjKmB,GAiKT,UAAUC,QAAV,EAAoBC,IAApB,EAA0BC,CAA1B,EAA6BC,CAA7B,EAAgCC,KAAhC,EAAuC;AAC7C,UAAIF,CAAC,IAAI,CAAT,EAAY;AACR,YAAIG,GAAG,GAAI,GAAD,CAAMC,MAAN,CAAaC,QAAQ,CAACJ,CAAD,CAAR,GAAc,CAA3B,CAAV;AACA,aAAKvC,EAAL,CAAQ4C,QAAR,CAAiBH,GAAjB,EAAsB,kBAAtB,EAA0C,aAA1C;AACA,aAAKzC,EAAL,CAAQ4C,QAAR,CAAiBH,GAAjB,EAAsB,kBAAtB,EAA0C,QAA1C;;AACA,YAAID,KAAK,IAAI,EAAb,EAAiB;AACb,eAAKxC,EAAL,CAAQ6C,WAAR,CAAoBJ,GAApB,YAA4BlD,IAAI,CAAC2C,CAAL,CAAO,4BAAP,CAA5B;AACH,SAFD,MAEO;AACH,eAAKlC,EAAL,CAAQ6C,WAAR,CAAoBJ,GAApB,EAAyB,EAAzB;AACH;AACJ,OATD,MASO,IAAIH,CAAC,IAAI,CAAT,EAAY;AACf,YAAIG,GAAG,GAAI,GAAD,CAAMC,MAAN,CAAaC,QAAQ,CAACJ,CAAD,CAAR,GAAc,CAA3B,CAAV;AACA,aAAKvC,EAAL,CAAQ4C,QAAR,CAAiBH,GAAjB,EAAsB,kBAAtB,EAA0C,aAA1C;AACA,aAAKzC,EAAL,CAAQ4C,QAAR,CAAiBH,GAAjB,EAAsB,kBAAtB,EAA0C,QAA1C;AACH,OAJM,MAIA,IAAIH,CAAC,IAAI,CAAT,EAAY;AACf,YAAIG,GAAG,GAAI,GAAD,CAAMC,MAAN,CAAaC,QAAQ,CAACJ,CAAD,CAAR,GAAc,CAA3B,CAAV;AACA,aAAKvC,EAAL,CAAQ4C,QAAR,CAAiBH,GAAjB,EAAsB,kBAAtB,EAA0C,aAA1C;AACA,aAAKzC,EAAL,CAAQ4C,QAAR,CAAiBH,GAAjB,EAAsB,kBAAtB,EAA0C,QAA1C;AACH,OAJM,MAIA,IAAIH,CAAC,IAAI,CAAT,EAAY;AACf,YAAIG,GAAG,GAAI,GAAD,CAAMC,MAAN,CAAaC,QAAQ,CAACJ,CAAD,CAAR,GAAc,CAA3B,CAAV;AACA,aAAKvC,EAAL,CAAQ4C,QAAR,CAAiBH,GAAjB,EAAsB,kBAAtB,EAA0C,aAA1C;AACA,aAAKzC,EAAL,CAAQ4C,QAAR,CAAiBH,GAAjB,EAAsB,kBAAtB,EAA0C,QAA1C;AACH;;AAED,UAAI5C,SAAS,GAAG,KAAKC,KAAL,CAAWD,SAA3B;AACA,UAAIE,SAAS,GAAG,KAAKC,EAAL,CAAQC,UAAR,CAAmBsC,CAAnB,CAAhB;AACA,UAAIO,GAAG,GAAG,IAAI1C,GAAJ,CAAQC,MAAM,CAACC,OAAP,CAAeP,SAAf,CAAR,CAAV;AACA,UAAIsB,IAAI,GAAG;AACPb,QAAAA,OAAO,EAAEsC,GAAG,CAACrC,GAAJ,CAAQ,GAAR,CADF;AAEPC,QAAAA,QAAQ,EAAEoC,GAAG,CAACrC,GAAJ,CAAQ,GAAR,CAFH;AAGPE,QAAAA,QAAQ,EAAEmC,GAAG,CAACrC,GAAJ,CAAQ,GAAR,CAHH;AAIPG,QAAAA,QAAQ,EAAEkC,GAAG,CAACrC,GAAJ,CAAQ,GAAR,CAJH;AAKPI,QAAAA,QAAQ,EAAEiC,GAAG,CAACrC,GAAJ,CAAQ,GAAR,CALH;AAMPK,QAAAA,UAAU,EAACgC,GAAG,CAACrC,GAAJ,CAAQ,GAAR;AANJ,OAAX;AAQAZ,MAAAA,SAAS,CAAC0C,CAAD,CAAT,GAAgBxB,IAAI,CAACC,SAAL,CAAeK,IAAf,CAAhB;AACA,WAAKJ,QAAL,CAAc;AACVpB,QAAAA,SAAS,EAAEA;AADD,OAAd;AAGH,KAvCS,CAuCRkD,IAvCQ,+BAjKS;;AAAA,UA0MnBC,SA1MmB,GA0MP,UAAUZ,QAAV,EAAoBC,IAApB,EAA0BC,CAA1B,EAA6BC,CAA7B,EAAgCC,KAAhC,EAAuC;AAC/C,WAAKvB,QAAL,CAAc;AACVf,QAAAA,KAAK,EAAEqC;AADG,OAAd;AAGH,KAJW,CAIVQ,IAJU,+BA1MO;;AAEf,UAAKE,OAAL,GAAetD,KAAK,CAACsD,OAArB;AACA,UAAKnD,KAAL,GAAa;AACToD,MAAAA,WAAW,EAAE,EADJ;AAETrD,MAAAA,SAAS,EAAE,EAFF;AAGTK,MAAAA,KAAK,EAAE;AAHE,KAAb;AAKA,UAAKN,QAAL,GAAgB,MAAKA,QAAL,CAAcmD,IAAd,+BAAhB;AACA,UAAKI,aAAL,GAAqB,MAAKA,aAAL,CAAmBJ,IAAnB,+BAArB;AATe;AAUlB;;;;wCAEmB;AAAA;;AAChBvD,MAAAA,qBAAqB,CAAC4B,sBAAtB;AACA3B,MAAAA,aAAa,CAAC2D,mBAAd,GAAoC7B,IAApC,CAAyC,UAAAC,QAAQ,EAAI;AACjD,YAAIH,IAAI,GAAGG,QAAQ,CAACG,IAApB;AACA,YAAIA,IAAI,GAAG,EAAX;AACA,YAAI0B,KAAK,GAAG,EAAZ;;AACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGjC,IAAI,CAACF,MAAzB,EAAiCmC,CAAC,EAAlC,EAAsC;AAClC3B,UAAAA,IAAI,GAAG,EAAP;AACAA,UAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUN,IAAI,CAACiC,CAAD,CAAJ,CAAQ9C,OAAlB,CAFkC,CAER;;AAC1BmB,UAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUN,IAAI,CAACiC,CAAD,CAAJ,CAAQC,SAAlB,CAHkC,CAGN;;AAC5B5B,UAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUN,IAAI,CAACiC,CAAD,CAAJ,CAAQ5C,QAAlB,CAJkC,CAIP;;AAC3BiB,UAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUN,IAAI,CAACiC,CAAD,CAAJ,CAAQ1C,QAAlB,CALkC,CAKP;;AAC3Be,UAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUN,IAAI,CAACiC,CAAD,CAAJ,CAAQzC,QAAlB,CANkC,CAMP;;AAC3Bc,UAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUN,IAAI,CAACiC,CAAD,CAAJ,CAAQ3C,QAAlB,CAPkC,CAOP;;AAC3BgB,UAAAA,IAAI,CAAC,CAAD,CAAJ,GAAQN,IAAI,CAACiC,CAAD,CAAJ,CAAQxC,UAAhB;AACAuC,UAAAA,KAAK,CAACC,CAAD,CAAL,GAAW3B,IAAX;AACH;;AACD,YAAIsB,OAAO;AACPtB,UAAAA,IAAI,EAAE0B,KADC;AAEPG,UAAAA,UAAU,EAAE,WACLjE,IAAI,CAAC2C,CAAL,CAAO,4BAAP,CADK,aAEL3C,IAAI,CAAC2C,CAAL,CAAO,8BAAP,CAFK,aAGL3C,IAAI,CAAC2C,CAAL,CAAO,4BAAP,CAHK,aAIL3C,IAAI,CAAC2C,CAAL,CAAO,2BAAP,CAJK,aAKL3C,IAAI,CAAC2C,CAAL,CAAO,+BAAP,CALK,aAML3C,IAAI,CAAC2C,CAAL,CAAO,4BAAP,CANK,iBAFL;AAWPuB,UAAAA,SAAS,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,CAXJ;AAYPC,UAAAA,OAAO,EAAE,CACL;AAAEC,YAAAA,IAAI,EAAE;AAAR,WADK,EAEL;AAAEA,YAAAA,IAAI,EAAE,MAAR;AAAgBC,YAAAA,QAAQ,EAAE;AAA1B,WAFK,EAGL;AAAED,YAAAA,IAAI,EAAE;AAAR,WAHK,EAIL;AAAEA,YAAAA,IAAI,EAAE;AAAR,WAJK,EAKL;AAAEA,YAAAA,IAAI,EAAE;AAAR,WALK,EAML;AAAEA,YAAAA,IAAI,EAAE;AAAR,WANK,EAOL;AAAEA,YAAAA,IAAI,EAAE;AAAR,WAPK,CAZF;AAqBPE,UAAAA,UAAU,EAAE,EArBL;AAsBPC,UAAAA,MAAM,EAAE,IAtBD;AAuBPC,UAAAA,aAAa,EAAE,IAvBR;AAwBPC,UAAAA,aAAa,EAAE,IAxBR;AAyBPC,UAAAA,QAAQ,EAAE,IAzBH;AA0BPC,UAAAA,iBAAiB,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,GAAb,CA1BZ;AA2BPC,UAAAA,iBAAiB,EAAE,KA3BZ;AA4BPC,UAAAA,uBAAuB,EAAE,KA5BlB;AA6BPC,UAAAA,QAAQ,EAAE,MAAI,CAAClC,OA7BR;AA8BPmC,UAAAA,cAAc,EAAE,MAAI,CAACtB,SA9Bd;AA+BPuB,UAAAA,cAAc,EAAE;AA/BT,4BAgCQ,KAhCR,CAAX;;AAmCA,QAAA,MAAI,CAACvE,EAAL,GAAUjB,MAAM,CAACD,QAAQ,CAAC0F,WAAT,CAAqB,MAArB,EAA2BC,QAA3B,CAAoC,CAApC,EAAuCA,QAAvC,CAAgD,CAAhD,CAAD,EAAqDxB,OAArD,CAAhB;AACH,OAnDD,EAmDGpB,KAnDH,CAoDI,UAAAC,KAAK,EAAI;AACL,YAAIA,KAAK,CAACC,OAAN,KAAkB,eAAtB,EAAuC;AACnC,UAAA,MAAI,CAACd,QAAL,CAAc;AAAEc,YAAAA,OAAO,EAAED,KAAK,CAACC;AAAjB,WAAd;AACH,SAFD,MAEO;AACH,kBAAQD,KAAK,CAACN,QAAN,GAAiBM,KAAK,CAACN,QAAN,CAAeQ,MAAhC,GAAyC,EAAjD;AACI,iBAAK,GAAL;AACA,iBAAK,GAAL;AACA,iBAAK,GAAL;AACA,iBAAK,GAAL;AACA,iBAAK,GAAL;AACI,cAAA,MAAI,CAACf,QAAL,CAAc;AAAEc,gBAAAA,OAAO,EAAED,KAAK,CAACN,QAAN,CAAeG,IAAf,CAAoBC;AAA/B,eAAd;;AACA;;AACJ;AACI,cAAA,MAAI,CAACX,QAAL,CAAc;AAAEc,gBAAAA,OAAO,EAAE;AAAX,eAAd;;AACA;AAVR;AAYH;AACJ,OArEL;AAuEH;;;6BAgDQ;AAAA;;AACL,aACI,0CACI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAC,IAAR;AAAa,QAAA,EAAE,EAAC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKxC,IAAI,CAAC2C,CAAL,CAAO,KAAKpC,KAAL,CAAWiC,OAAlB,CAAL,CADJ,EAEI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAASxC,IAAI,CAAC2C,CAAL,CAAO,gCAAP,CAAT,CADJ,CADJ,EAII,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,EAMI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,IAAI,EAAC,IAA3B;AAAgC,QAAA,KAAK,EAAC,QAAtC;AAA+C,QAAA,SAAS,EAAC,kBAAzD;AAA4E,QAAA,OAAO,EAAE,KAAKiB,aAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyG;AAAG,QAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAzG,OAA0I5D,IAAI,CAAC2C,CAAL,CAAO,sBAAP,CAA1I,CADJ,EAEI,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,IAAI,EAAC,IAA3B;AAAgC,QAAA,KAAK,EAAC,SAAtC;AAAgD,QAAA,SAAS,EAAC,kBAA1D;AAA6E,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACtC,QAAL,EAAN;AAAA,SAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA8G;AAAG,QAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA9G,EAA8IL,IAAI,CAAC2C,CAAL,CAAO,sBAAP,CAA9I,MAFJ,SADJ,CANJ,CAFJ,CADJ,CADJ;AAqBH;;;oCAEe;AACZ,WAAKvC,KAAL,CAAW8B,OAAX,CAAmBC,IAAnB,sBAAsCnC,IAAI,CAAC2C,CAAL,CAAO,wBAAP,CAAtC;AACH;;;;EAjK6CrD,KAAK,CAAC6F,S;;SAAnChF,oB","sourcesContent":["import React from \"react\";\nimport ReactDOM from 'react-dom';\nimport jexcel from 'jexcel';\n\nimport \"../ProductCategory/style.css\"\nimport \"../../../node_modules/jexcel/dist/jexcel.css\";\nimport {\n    Card, CardBody, CardHeader, FormGroup,\n    CardFooter, Button, Col\n} from 'reactstrap';\nimport i18n from '../../i18n';\nimport AuthenticationService from '../common/AuthenticationService.js';\nimport LabelsService from '../../api/LabelService.js';\n\nexport default class DatabaseTranslations extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.options = props.options;\n        this.state = {\n            changedFlag: [],\n            labelList: [],\n            rowId: 1\n        }\n        this.saveData = this.saveData.bind(this)\n        this.cancelClicked = this.cancelClicked.bind(this);\n    }\n\n    componentDidMount() {\n        AuthenticationService.setupAxiosInterceptors();\n        LabelsService.getStaticLabelsList().then(response => {\n            var json = response.data;\n            var data = [];\n            var label = [];\n            for (var i = 0; i < json.length; i++) {\n                data = [];\n                data[0] = json[i].labelId;// A\n                data[1] = json[i].labelCode;// A\n                data[2] = json[i].label_en;//B\n                data[3] = json[i].label_fr;//C\n                data[4] = json[i].label_pr;//D\n                data[5] = json[i].label_sp;//E\n                data[6]=json[i].languageId;\n                label[i] = data;\n            }\n            var options = {\n                data: label,\n                colHeaders: [\n                    `${i18n.t('static.translation.labelId')}`,\n                    `${i18n.t('static.translation.labelCode')}`,\n                    `${i18n.t('static.translation.english')}`,\n                    `${i18n.t('static.translation.french')}`,\n                    `${i18n.t('static.translation.pourtegese')}`,\n                    `${i18n.t('static.translation.spanish')}`,\n                    `Language Id`,\n                ],\n                colWidths: [80, 80, 80, 80, 80],\n                columns: [\n                    { type: 'hidden' },\n                    { type: 'text', readOnly: true },\n                    { type: 'text'},\n                    { type: 'text' },\n                    { type: 'text'},\n                    { type: 'text'},\n                    { type: 'hidden' }\n                ],\n                pagination: 25,\n                search: true,\n                columnSorting: true,\n                tableOverflow: true,\n                wordWrap: true,\n                paginationOptions: [25, 50, 75, 100],\n                allowInsertColumn: false,\n                allowManualInsertColumn: false,\n                onchange: this.changed,\n                oneditionstart: this.editStart,\n                allowDeleteRow: false,\n                tableOverflow: false\n                // tableHeight: '500px',\n            };\n            this.el = jexcel(ReactDOM.findDOMNode(this).children[1].children[1], options);\n        }).catch(\n            error => {\n                if (error.message === \"Network Error\") {\n                    this.setState({ message: error.message });\n                } else {\n                    switch (error.response ? error.response.status : \"\") {\n                        case 500:\n                        case 401:\n                        case 404:\n                        case 406:\n                        case 412:\n                            this.setState({ message: error.response.data.messageCode });\n                            break;\n                        default:\n                            this.setState({ message: 'static.unkownError' });\n                            break;\n                    }\n                }\n            }\n        );\n    };\n\n    saveData = function () {\n        var labelList = this.state.labelList;\n        var tableJson = this.el.getRowData(this.state.rowId);\n        var mapOfLastRow = new Map(Object.entries(tableJson))\n        var jsonOfLastRow = {\n            labelId: mapOfLastRow.get(\"0\"),\n            label_en: mapOfLastRow.get(\"2\"),\n            label_sp: mapOfLastRow.get(\"5\"),\n            label_fr: mapOfLastRow.get(\"3\"),\n            label_pr: mapOfLastRow.get(\"4\"),\n            languageId:mapOfLastRow.get(\"6\")\n        }\n        labelList[this.state.rowId] = (JSON.stringify(jsonOfLastRow));\n        this.setState({\n            labelList: labelList\n        })\n        if (JSON.stringify(this.el.getComments()).length == 2) {\n            AuthenticationService.setupAxiosInterceptors();\n            var json = this.state.labelList;\n            LabelsService.saveStaticLabels(json).then(response => {\n                this.props.history.push(`/dashboard/${response.data.messageCode}`)\n            }).catch(\n                error => {\n                    if (error.message === \"Network Error\") {\n                        this.setState({ message: error.message });\n                    } else {\n                        switch (error.response ? error.response.status : \"\") {\n                            case 500:\n                            case 401:\n                            case 404:\n                            case 406:\n                            case 412:\n                                this.setState({ message: error.response.data.messageCode });\n                                break;\n                            default:\n                                this.setState({ message: 'static.unkownError' });\n                                break;\n                        }\n                    }\n                }\n            );\n        } else {\n            alert(`${i18n.t('static.label.validData')}`);\n        }\n    };\n\n    render() {\n        return (\n            <>\n                <Col xs=\"12\" sm=\"12\">\n                    <h5>{i18n.t(this.state.message)}</h5>\n                    <Card>\n                        <CardHeader>\n                            <strong>{i18n.t('static.label.labelTranslations')}</strong>\n                        </CardHeader>\n                        <CardBody>\n                        </CardBody>\n                        <CardFooter>\n                            <FormGroup>\n                                <Button type=\"button\" size=\"sm\" color=\"danger\" className=\"float-right mr-1\" onClick={this.cancelClicked}><i className=\"fa fa-times\"></i> {i18n.t('static.common.cancel')}</Button>\n                                <Button type=\"button\" size=\"sm\" color=\"success\" className=\"float-right mr-1\" onClick={() => this.saveData()} ><i className=\"fa fa-check\"></i>{i18n.t('static.common.submit')} </Button>\n                                &nbsp;\n                            </FormGroup>\n                        </CardFooter>\n                    </Card>\n                </Col>\n            </>\n        )\n    }\n\n    cancelClicked() {\n        this.props.history.push(`/dashboard/${i18n.t('static.actionCancelled')}`)\n    }\n\n    changed = function (instance, cell, x, y, value) {\n        if (x == 2) {\n            var col = (\"C\").concat(parseInt(y) + 1);\n            this.el.setStyle(col, \"background-color\", \"transparent\");\n            this.el.setStyle(col, \"background-color\", \"yellow\");\n            if (value == \"\") {\n                this.el.setComments(col, `${i18n.t('static.label.fieldRequired')}`);\n            } else {\n                this.el.setComments(col, \"\");\n            }\n        } else if (x == 3) {\n            var col = (\"D\").concat(parseInt(y) + 1);\n            this.el.setStyle(col, \"background-color\", \"transparent\");\n            this.el.setStyle(col, \"background-color\", \"yellow\");\n        } else if (x == 4) {\n            var col = (\"E\").concat(parseInt(y) + 1);\n            this.el.setStyle(col, \"background-color\", \"transparent\");\n            this.el.setStyle(col, \"background-color\", \"yellow\");\n        } else if (x == 5) {\n            var col = (\"F\").concat(parseInt(y) + 1);\n            this.el.setStyle(col, \"background-color\", \"transparent\");\n            this.el.setStyle(col, \"background-color\", \"yellow\");\n        }\n\n        var labelList = this.state.labelList;\n        var tableJson = this.el.getRowData(y);\n        var map = new Map(Object.entries(tableJson))\n        var json = {\n            labelId: map.get(\"0\"),\n            label_en: map.get(\"2\"),\n            label_sp: map.get(\"5\"),\n            label_fr: map.get(\"3\"),\n            label_pr: map.get(\"4\"),\n            languageId:map.get(\"6\")\n        }\n        labelList[y] = (JSON.stringify(json));\n        this.setState({\n            labelList: labelList\n        })\n    }.bind(this)\n\n    editStart = function (instance, cell, x, y, value) {\n        this.setState({\n            rowId: y\n        })\n    }.bind(this)\n}\n\n\n"]},"metadata":{},"sourceType":"module"}