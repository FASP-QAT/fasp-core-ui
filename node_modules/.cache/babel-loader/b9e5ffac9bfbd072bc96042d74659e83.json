{"ast":null,"code":"import _classCallCheck from \"/home/altius/NodeJs/fasp-core-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/altius/NodeJs/fasp-core-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/altius/NodeJs/fasp-core-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/altius/NodeJs/fasp-core-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/altius/NodeJs/fasp-core-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/altius/NodeJs/fasp-core-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/altius/NodeJs/fasp-core-ui/src/views/role/ListRoleComponent.js\";\nimport React, { Component } from 'react';\nimport { Card, CardHeader, CardBody } from 'reactstrap';\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport 'react-bootstrap-table/dist//react-bootstrap-table-all.min.css';\nimport i18n from '../../i18n';\nimport UserService from \"../../api/UserService\";\nimport AuthenticationService from '../common/AuthenticationService.js';\n\nvar ListRoleComponent = /*#__PURE__*/function (_Component) {\n  _inherits(ListRoleComponent, _Component);\n\n  function ListRoleComponent(props) {\n    var _this;\n\n    _classCallCheck(this, ListRoleComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ListRoleComponent).call(this, props));\n    _this.options = {\n      sortIndicator: true,\n      hideSizePerPage: false,\n      paginationSize: 3,\n      hidePageListOnlyOnePage: true,\n      clearSearch: true,\n      alwaysShowAllBtns: false,\n      withFirstAndLast: false,\n      onRowClick: function (row) {\n        this.editRole(row);\n      }.bind(_assertThisInitialized(_this))\n    };\n    _this.state = {\n      roleList: [],\n      message: ''\n    };\n    _this.editRole = _this.editRole.bind(_assertThisInitialized(_this));\n    _this.addNewRole = _this.addNewRole.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ListRoleComponent, [{\n    key: \"addNewRole\",\n    value: function addNewRole() {\n      this.props.history.push(\"/role/addRole\");\n    }\n  }, {\n    key: \"editRole\",\n    value: function editRole(role) {\n      this.props.history.push({\n        pathname: \"/role/editRole\",\n        state: {\n          role: role\n        }\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      AuthenticationService.setupAxiosInterceptors();\n      UserService.getRoleList().then(function (response) {\n        _this2.setState({\n          roleList: response.data\n        });\n      }).catch(function (error) {\n        switch (error.response ? error.response.status : \"\") {\n          case 500:\n          case 401:\n          case 404:\n          case 406:\n          case 412:\n            _this2.setState({\n              message: error.response.data.messageCode\n            });\n\n            break;\n\n          default:\n            _this2.setState({\n              message: 'static.unkownError'\n            });\n\n            break;\n        }\n      });\n    }\n  }, {\n    key: \"showRoleLabel\",\n    value: function showRoleLabel(cell, row) {\n      return cell.label_en;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"animated\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, i18n.t(this.props.match.params.message)), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, i18n.t(this.state.message)), React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"icon-menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, i18n.t('static.role.rolelisttext')), ' ', React.createElement(\"div\", {\n        className: \"card-header-actions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-header-action\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:void();\",\n        title: i18n.t('static.role.roleaddtext'),\n        onClick: this.addNewRole,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-plus-square\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }))))), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(BootstrapTable, {\n        data: this.state.roleList,\n        version: \"4\",\n        hover: true,\n        pagination: true,\n        search: true,\n        options: this.options,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(TableHeaderColumn, {\n        isKey: true,\n        filterFormatted: true,\n        dataField: \"roleId\",\n        dataSort: true,\n        dataAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, i18n.t('static.role.roleid'))), React.createElement(TableHeaderColumn, {\n        filterFormatted: true,\n        dataField: \"label\",\n        dataFormat: this.showRoleLabel,\n        dataAlign: \"center\",\n        dataSort: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, i18n.t('static.role.rolename')))))));\n    }\n  }]);\n\n  return ListRoleComponent;\n}(Component);\n\nexport default ListRoleComponent;","map":{"version":3,"sources":["/home/altius/NodeJs/fasp-core-ui/src/views/role/ListRoleComponent.js"],"names":["React","Component","Card","CardHeader","CardBody","BootstrapTable","TableHeaderColumn","i18n","UserService","AuthenticationService","ListRoleComponent","props","options","sortIndicator","hideSizePerPage","paginationSize","hidePageListOnlyOnePage","clearSearch","alwaysShowAllBtns","withFirstAndLast","onRowClick","row","editRole","bind","state","roleList","message","addNewRole","history","push","role","pathname","setupAxiosInterceptors","getRoleList","then","response","setState","data","catch","error","status","messageCode","cell","label_en","t","match","params","showRoleLabel"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport {\n    Card, CardHeader, CardBody\n} from 'reactstrap';\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport 'react-bootstrap-table/dist//react-bootstrap-table-all.min.css';\nimport i18n from '../../i18n'\n\nimport UserService from \"../../api/UserService\";\nimport AuthenticationService from '../common/AuthenticationService.js';\n\nclass ListRoleComponent extends Component {\n    constructor(props) {\n        super(props);\n        this.options = {\n            sortIndicator: true,\n            hideSizePerPage: false,\n            paginationSize: 3,\n            hidePageListOnlyOnePage: true,\n            clearSearch: true,\n            alwaysShowAllBtns: false,\n            withFirstAndLast: false,\n            onRowClick: function (row) {\n                this.editRole(row);\n            }.bind(this)\n\n        }\n        this.state = {\n            roleList: [],\n            message: ''\n        }\n        this.editRole = this.editRole.bind(this);\n        this.addNewRole = this.addNewRole.bind(this);\n    }\n    addNewRole() {\n        this.props.history.push(\"/role/addRole\");\n    }\n    editRole(role) {\n        this.props.history.push({\n            pathname: \"/role/editRole\",\n            state: { role }\n        });\n    }\n\n    componentDidMount() {\n        AuthenticationService.setupAxiosInterceptors();\n        UserService.getRoleList()\n            .then(response => {\n                this.setState({\n                    roleList: response.data\n                })\n            }).catch(\n                error => {\n                    switch (error.response ? error.response.status : \"\") {\n\n                        case 500:\n                        case 401:\n                        case 404:\n                        case 406:\n                        case 412:\n                            this.setState({ message: error.response.data.messageCode });\n                            break;\n                        default:\n                            this.setState({ message: 'static.unkownError' });\n                            break;\n                    }\n                }\n            );\n    }\n\n    showRoleLabel(cell, row) {\n        return cell.label_en;\n    }\n\n    render() {\n        return (\n            <div className=\"animated\">\n                <h5>{i18n.t(this.props.match.params.message)}</h5>\n                <h5>{i18n.t(this.state.message)}</h5>\n                <Card>\n                    <CardHeader>\n                        <i className=\"icon-menu\"></i><strong>{i18n.t('static.role.rolelisttext')}</strong>{' '}\n                        <div className=\"card-header-actions\">\n                            <div className=\"card-header-action\">\n                                <a href=\"javascript:void();\" title={i18n.t('static.role.roleaddtext')} onClick={this.addNewRole}><i className=\"fa fa-plus-square\"></i></a>\n                            </div>\n                        </div>\n                    </CardHeader>\n                    <CardBody>\n                        <BootstrapTable data={this.state.roleList} version=\"4\" hover pagination search options={this.options}>\n                            <TableHeaderColumn isKey filterFormatted dataField=\"roleId\" dataSort dataAlign=\"center\"><strong>{i18n.t('static.role.roleid')}</strong></TableHeaderColumn>\n                            <TableHeaderColumn filterFormatted dataField=\"label\" dataFormat={this.showRoleLabel} dataAlign=\"center\" dataSort><strong>{i18n.t('static.role.rolename')}</strong></TableHeaderColumn>\n                        </BootstrapTable>\n                    </CardBody>\n                </Card>\n            </div>\n        );\n    }\n}\nexport default ListRoleComponent;\n"]},"metadata":{},"sourceType":"module"}