(this["webpackJsonp@coreui/coreui-pro-react-admin-template"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template"]||[]).push([[75],{1131:function(e,a,t){"use strict";t.r(a);var n=t(151),r=t(152),o=t(154),l=t(153),i=t(156),c=t(155),s=t(79),u=t(537),m=t(2),d=t.n(m),g=t(495),f=t(492),y=t(501),h=t(497),p=t(655),C=t(502),b=t(575),v=t(615),E=t(545),k=t(1368),j=t(513),I=t(506),S=t(541),O=t(538),R=(t(508),t(670)),N=t(499),w=t.n(N),A=t(494),F=new(function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,[{key:"addRealmCountry",value:function(e){return w.a.post("".concat(A.a,"/api/realmCountry/"),e,{})}},{key:"getRealmCountryListAll",value:function(){return w.a.get("".concat(A.a,"/api/realmCountry/"),{})}},{key:"getRealmCountryById",value:function(e){return w.a.get("".concat(A.a,"/api/realmCountry/{realmCountryId}"),{})}},{key:"updateRealmCountry",value:function(e){return w.a.put("".concat(A.a,"/api/realmCountry/"),e,{})}}]),e}()),B=t(517),q={realmCountryId:[],region:""},z=function(e){return O.object().shape({realmId:O.string().required("Please select Country"),region:O.string().required("Please enter Region")})},M=function(e){return e.inner.reduce((function(e,a){return Object(u.a)({},e,Object(s.a)({},a.path,a.errors[0]))}),{})},P=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(o.a)(this,Object(l.a)(a).call(this,e))).state={realmCountries:[],region:{realmCountry:{},label:{}},message:""},t.cancelClicked=t.cancelClicked.bind(Object(i.a)(t)),t.dataChange=t.dataChange.bind(Object(i.a)(t)),t}return Object(c.a)(a,e),Object(r.a)(a,[{key:"dataChange",value:function(e){var a=this.state.region;"realmCountryId"==e.target.name&&(a.realmCountry.realmCountryId=e.target.value),"region"==e.target.name&&(a.label.label_en=e.target.value),this.setState({region:a},(function(){}))}},{key:"touchAll",value:function(e,a){e({realmId:!0,region:!0}),this.validateForm(a)}},{key:"validateForm",value:function(e){this.findFirstError("regionForm",(function(a){return Boolean(e[a])}))}},{key:"findFirstError",value:function(e,a){for(var t=document.forms[e],n=0;n<t.length;n++)if(a(t[n].name)){t[n].focus();break}}},{key:"componentDidMount",value:function(){var e=this;B.a.setupAxiosInterceptors(),F.getRealmCountryListAll().then((function(a){e.setState({realmCountries:a.data.data})})).catch((function(a){switch(a.message){case"Network Error":e.setState({message:a.message});break;default:e.setState({message:a.response.data.message})}}))}},{key:"render",value:function(){var e,a=this,t=this.state.realmCountries,n=t.length>0&&t.map((function(e,a){return d.a.createElement("option",{key:a,value:e.realmCountryId},e.country.label.label_en)}),this);return d.a.createElement("div",{className:"animated fadeIn"},d.a.createElement(g.a,null,d.a.createElement(f.a,{sm:12,md:6,style:{flexBasis:"auto"}},d.a.createElement(y.a,null,d.a.createElement(h.a,null,d.a.createElement("i",{className:"icon-note"}),d.a.createElement("strong",null,"Add Region")," "),d.a.createElement(S.a,{initialValues:q,validate:(e=z,function(a){var t=e(a);try{return t.validateSync(a,{abortEarly:!1}),{}}catch(n){return M(n)}}),onSubmit:function(e,t){t.setSubmitting,t.setErrors;console.log("Submit clicked"),R.a.addRegion(a.state.region).then((function(e){console.log("Response->",e),"Success"==e.data.status?a.props.history.push("/region/listRegion/".concat(e.data.message)):a.setState({message:e.data.message})})).catch((function(e){switch(e.message){case"Network Error":a.setState({message:e.message});break;default:a.setState({message:e.response.data.message})}}))},render:function(e){e.values;var t=e.errors,r=e.touched,o=e.handleChange,l=e.handleBlur,i=e.handleSubmit,c=(e.isSubmitting,e.isValid),s=e.setTouched;return d.a.createElement(p.a,{onSubmit:i,noValidate:!0,name:"regionForm"},d.a.createElement(C.a,null,d.a.createElement(b.a,null,d.a.createElement(v.a,{htmlFor:"realmCountryId"},"Country"),d.a.createElement(E.a,{type:"select",name:"realmCountryId",id:"realmCountryId",bsSize:"sm",valid:!t.realmCountryId,invalid:r.realmCountryId&&!!t.realmCountryId,onChange:function(e){o(e),a.dataChange(e)},onBlur:l,required:!0,value:a.state.realmCountryId},d.a.createElement("option",{value:"0"},"Please select"),n),d.a.createElement(k.a,null,t.realmCountryId)),d.a.createElement(b.a,null,d.a.createElement(v.a,{for:"region"},"Region"),d.a.createElement(E.a,{type:"text",name:"region",id:"region",bsSize:"sm",valid:!t.region,invalid:r.region&&!!t.region,onChange:function(e){o(e),a.dataChange(e)},onBlur:l,required:!0}),d.a.createElement(k.a,null,t.region))),d.a.createElement(j.a,null,d.a.createElement(b.a,null,d.a.createElement(I.a,{type:"reset",size:"sm",color:"warning",className:"float-right mr-1"},d.a.createElement("i",{className:"fa fa-refresh"})," Reset"),d.a.createElement(I.a,{type:"button",size:"sm",color:"danger",className:"float-right mr-1",onClick:a.cancelClicked},d.a.createElement("i",{className:"fa fa-times"})," Cancel"),d.a.createElement(I.a,{type:"submit",size:"sm",color:"success",className:"float-right mr-1",onClick:function(){return a.touchAll(s,t)},disabled:!c},d.a.createElement("i",{className:"fa fa-check"}),"Submit"),"\xa0")))}})))))}},{key:"cancelClicked",value:function(){this.props.history.push("/region/listRegion/Action Canceled")}}]),a}(m.Component);a.default=P},508:function(e,a,t){},513:function(e,a,t){"use strict";var n=t(18),r=t(49),o=t(2),l=t.n(o),i=t(61),c=t.n(i),s=t(487),u=t.n(s),m=t(488),d={tag:m.q,className:c.a.string,cssModule:c.a.object},g=function(e){var a=e.className,t=e.cssModule,o=e.tag,i=Object(r.a)(e,["className","cssModule","tag"]),c=Object(m.m)(u()(a,"card-footer"),t);return l.a.createElement(o,Object(n.a)({},i,{className:c}))};g.propTypes=d,g.defaultProps={tag:"div"},a.a=g},670:function(e,a,t){"use strict";var n=t(151),r=t(152),o=t(499),l=t.n(o),i=t(494),c=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,[{key:"addRegion",value:function(e){return l.a.post("".concat(i.a,"/api/region/"),e,{})}},{key:"getRegionList",value:function(){return l.a.get("".concat(i.a,"/api/region/"),{})}},{key:"updateRegion",value:function(e){return l.a.put("".concat(i.a,"/api/region/"),e,{})}}]),e}();a.a=new c}}]);
//# sourceMappingURL=75.dff0572a.chunk.js.map